---
title: Использование приема данных одним щелчком для приема данных в формате JSON из локального файла в существующую таблицу в Azure Data Explorer
description: Легкий прием (загрузка) данных в существующую таблицу Azure Data Explorer с помощью обработки "одним щелчком".
author: orspod
ms.author: orspodek
ms.reviewer: tzgitlin
ms.service: data-explorer
ms.topic: overview
ms.date: 03/29/2020
ms.openlocfilehash: 422c930835e4ebe68cb59b27e51934d800fe14c1
ms.sourcegitcommit: e87b6cb2075d36dbb445b16c5b83eff7eaf3cdfa
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/23/2020
ms.locfileid: "85265220"
---
# <a name="use-one-click-ingestion-to-ingest-json-data-from-a-local-file-to-an-existing-table-in-azure-data-explorer"></a>Использование приема данных одним щелчком для приема данных в формате JSON из локального файла в существующую таблицу в Azure Data Explorer

[Функция приема одним щелчком](ingest-data-one-click.md) позволяет быстро принимать данные в формате JSON, CSV и других форматах в таблицу, а также без усилий создавать структуры сопоставления. Данные можно принимать из хранилища, локального файла или контейнера в рамках однократного или непрерывного приема.  

В этом документе описывается применение интуитивно понятного мастера с выполнением операций одним щелчком в сценарии приема данных в формате **JSON** из **локального файла** в **существующую таблицу**. Этот же процесс можно запускать с незначительными изменениями и для других вариантов использования.

Общие сведения о приеме одним щелчком и список предварительных условий см. в [этой статье](ingest-data-one-click.md).
Сведения о различных типах источников данных см. в статье [Использование приема данных одним щелчком для приема данных в формате CSV из контейнера в новую таблицу в Azure Data Explorer](one-click-ingestion-new-table.md).

## <a name="ingest-new-data"></a>Прием новых данных

1. В левом меню веб-интерфейса щелкните правой кнопкой мыши *базу данных* или *таблицу* и выберите **Ingest new data (Preview)** (Прием новых данных (предварительная версия)).

    :::image type="content" source="media/one-click-ingestion-existing-table/one-click-ingestion-in-webui.png" alt-text="Выбор функции приема данных одним щелчком в пользовательском веб-интерфейсе":::
 
## <a name="select-an-ingestion-type"></a>Выберите тип приема данных

1. В окне **Ingest new data (Preview)** (Прием новых данных (предварительная версия)) выбирается вкладка **Источник**.

1. Если поле **Таблица** не заполнено автоматически, выберите имя существующей таблицы из раскрывающегося меню.

    > [!NOTE]
    > Если выбрать **Ingest new data (Preview)** (Прием новых данных (предварительная версия)) в строке *таблицы*, выбранное имя таблицы появится в области **Сведения о проекте**.

1. В разделе **Ingestion type** (Тип приема) сделайте следующее:

   1. Выберите **from file** (из файла).  
   1. Нажмите кнопку **Browse** (Обзор), чтобы найти файл, или перетащите файл в поле.
    * Появится пример данных. При необходимости можно отфильтровать эти данные, чтобы отображались только те файлы, имена которых в начале или в конце имеют определенные символы. 
    >[!NOTE] 
    >Когда вы меняете фильтры, содержимое в окне предварительного просмотра обновляется автоматически.
  
      :::image type="content" source="media/one-click-ingestion-existing-table/from-file.png" alt-text="Прием данных одним щелчком из файла":::

 > [!TIP]
 > Сведения о приеме данных **из контейнера** см. в статье [Использование приема данных одним щелчком для приема данных в формате CSV из контейнера в новую таблицу в Azure Data Explorer](one-click-ingestion-new-table.md#select-an-ingestion-type).

## <a name="edit-the-schema"></a>Изменение схемы

Выберите **Изменение схемы**, чтобы просмотреть и изменить конфигурацию столбца таблицы.

### <a name="map-columns"></a>Сопоставление столбцов 

1. Откроется диалоговое окно **Map columns** (Сопоставление столбцов), в котором можно присоединить один или несколько исходных столбцов или атрибутов к столбцам Azure Data Explorer.
    * Новые сопоставления задаются автоматически. Вы также можете использовать существующее сопоставление. 
    * В полях **Исходные столбцы** введите имена столбцов, которые нужно сопоставлять со столбцами **Целевые столбцы**.
    * Чтобы удалить столбец из сопоставления, выберите значок удаления.

    :::image type="content" source="media/one-click-ingestion-existing-table/map-columns.png" alt-text="Окно сопоставления столбцов"::: 
    
1. Нажмите кнопку **Обновить**.
1. На вкладке **Схема** выполните следующие действия:
    * **Тип сжатия** будет автоматически выбран по имени исходного файла. В этом случае используется тип сжатия **JSON**.
        
    * Если вы выбрали **JSON**, также задайте для поля **JSON levels** (Уровни JSON) значение от 1 до 10. Уровни определяют разделение данных столбцов в таблице.

    :::image type="content" source="media/one-click-ingestion-existing-table/json-levels.png" alt-text="Выбор уровней JSON":::
    
    > [!TIP]
    > Если вы хотите использовать файлы в формате **CSV**, см. статью [Использование приема данных одним щелчком для приема данных в формате CSV из контейнера в новую таблицу в Azure Data Explorer](one-click-ingestion-new-table.md#edit-the-schema).

### <a name="table"></a>Таблица 

В таблице выполните следующие действия: 
    * Выберите новые заголовки столбцов, чтобы добавить **Новый столбец**, **Удалить столбец**, **Сортировать по возрастанию** или **Сортировать по убыванию**. В существующих столбцах доступна только сортировка данных.

[!INCLUDE [data-explorer-one-click-column-table](includes/data-explorer-one-click-column-table.md)]

[!INCLUDE [data-explorer-one-click-command-editor](includes/data-explorer-one-click-command-editor.md)]

## <a name="start-ingestion"></a>Начало приема данных

Выберите **Start ingestion** (Начать прием данных), чтобы создать таблицу и сопоставление и начать прием данных.

:::image type="content" source="media/one-click-ingestion-existing-table/start-ingestion.png" alt-text="Начало приема данных":::

## <a name="data-ingestion-completed"></a>Завершение приема данных

Если прием данных завершается успешно, в окне **Data ingestion completed** (Прием данных завершен) все три шага будут отмечены галочками зеленого цвета.

:::image type="content" source="media/one-click-ingestion-existing-table/one-click-data-ingestion-complete.png" alt-text="Прием данных одним щелчком завершен":::

> [!IMPORTANT]
> Если вы хотите настроить непрерывный прием данных из контейнера, см. статью [Использование приема данных одним щелчком для приема данных в формате CSV из контейнера в новую таблицу в Azure Data Explorer](one-click-ingestion-new-table.md#continuous-ingestion---container-only).

[!INCLUDE [data-explorer-one-click-ingestion-query-data](includes/data-explorer-one-click-ingestion-query-data.md)]

## <a name="next-steps"></a>Дальнейшие действия

* [Краткое руководство. Запрос данных в пользовательском веб-интерфейсе Azure Data Explorer](web-query-data.md)
* [Написание запросов для Azure Data Explorer на языке запросов Kusto](write-queries.md)

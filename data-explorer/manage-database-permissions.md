---
title: Управление разрешениями базы данных в Azure обозреватель данных
description: В этой статье описываются элементы управления доступом на основе ролей для баз данных и таблиц в обозревателе данных Azure.
author: orspod
ms.author: orspodek
ms.reviewer: mblythe
ms.service: data-explorer
ms.topic: how-to
ms.date: 09/24/2018
ms.openlocfilehash: 0ff2b0892231f52390f103fe299f219a7a3f3860
ms.sourcegitcommit: 7fa9d0eb3556c55475c95da1f96801e8a0aa6b0f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2020
ms.locfileid: "91942052"
---
# <a name="manage-azure-data-explorer-database-permissions"></a>Управление разрешениями баз данных обозревателя данных Azure

Обозреватель данных Azure позволяет управлять доступом к базам данных и таблицам с помощью модели *управление доступом на основе ролей*. По этой модели *субъекты* (пользователи, группы и приложения) сопоставляются с *ролями*. Субъекты могут получить доступ к ресурсам в соответствии со своими назначенными ролями.

В этой статье описаны доступные роли и то, как назначить субъекты этим ролям с помощью портала Azure и команд управления обозревателя данных Azure.

## <a name="roles-and-permissions"></a>Роли и разрешения

В обозревателе данных Azure доступны следующие роли:

|Роль                       |Разрешения                                                                        |
|---------------------------|-----------------------------------------------------------------------------------|
|Администратор базы данных             |Может выполнять любые действия в рамках указанной базы данных.|
|пользователь базы данных;              |Может читать все данные и метаданные в базе данных. Кроме того, пользователь может создавать таблицы (он становится администратором таблицы) и использовать функции в базе данных.|
|Читатель базы данных            |Может читать все данные и метаданные в базе данных.|
|Принимающий базы данных          |Может принимать данные во все существующие таблицы в базе данных, но не запрашивать их.|
|Отслеживающий базы данных           |Может выполнять команды ".show ..." в контексте базы данных и ее дочерних сущностей.|
|Администратор таблиц                |Может выполнять любые действия в рамках указанной таблицы. |
|Принимающий таблицы             |Может принимать данные конкретной таблицы, но не запрашивать их.|

## <a name="manage-permissions-in-the-azure-portal"></a>Управление разрешениями на портале Azure

1. Войдите на [портал Azure](https://portal.azure.com/).

1. Перейдите в кластер обозревателя данных Azure.

1. В разделе **Общие сведения** выберите базу данных, в которой требуется управлять разрешениями.

    ![Выбор базы данных](media/manage-database-permissions/select-database.png)

1. Выберите **Разрешения** и щелкните **Добавить**.

    ![Разрешения базы данных](media/manage-database-permissions/database-permissions.png)

1. В разделе **Добавление разрешений базы данных** выберите роль, которую вы хотите назначить субъекту, и щелкните **Выбрать субъекты**.

    ![Добавление разрешений базы данных](media/manage-database-permissions/add-permission.png)

1. Найдите субъект, выделите его и щелкните **Выбрать**.

    :::image type="content" source="media/manage-database-permissions/new-principals.png" alt-text="Снимок экрана со страницей портал Azure новых участников. Выбираются и выделяются имя участника и изображение. Кнопка выбрать также выделяется." border="false":::

1. Щелкните **Сохранить**.

    :::image type="content" source="media/manage-database-permissions/save-permission.png" alt-text="Снимок экрана со страницей портал Azure новых участников. Выбираются и выделяются имя участника и изображение. Кнопка выбрать также выделяется." border="false":::

## <a name="manage-permissions-with-management-commands"></a>Управление разрешениями с помощью команд управления

1. Войдите в [https://dataexplorer.azure.com](https://dataexplorer.azure.com) и добавьте кластер, если он еще не доступен.

1. На панели слева выберите соответствующую базу данных.

1. Используйте команду `.add`, чтобы назначить роли субъектам: `.add database databasename rolename ('aaduser | aadgroup=user@domain.com')`. Чтобы добавить пользователя в роль "Пользователь базы данных", выполните следующую команду, заменив имя базы данных и пользователя.

    ```Kusto
    .add database <TestDatabase> users ('aaduser=<user@contoso.com>')
    ```

    В выходных данных команды отобразится список существующих пользователей и назначенных им ролей в базе данных.
    
    Примеры, относящиеся к Azure Active Directory и модели авторизации Kusto, см. в разделе [принципы и поставщики удостоверений](kusto/management/access-control/principals-and-identity-providers.md) .

## <a name="next-steps"></a>Дальнейшие действия

[Написание запросов](write-queries.md)

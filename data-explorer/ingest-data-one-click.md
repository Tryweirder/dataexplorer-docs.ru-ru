---
title: Прием данных в Azure Data Explorer одним щелчком
description: Общие сведения о приеме (загрузке) данных в Azure Data Explorer одним щелчком.
author: orspod
ms.author: orspodek
ms.reviewer: tzgitlin
ms.service: data-explorer
ms.topic: how-to
ms.date: 03/29/2020
ms.openlocfilehash: 5ebd3ee711baa24c6f73facfdab361e2de5ada20
ms.sourcegitcommit: abbcb27396c6d903b608e7b19edee9e7517877bb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/15/2021
ms.locfileid: "100528157"
---
# <a name="what-is-one-click-ingestion"></a>Что такое прием данных одним щелчком?

Прием данных одним щелчком упрощает этот процесс, делая его быстрым и интуитивно понятным. С помощью приема данных одним щелчком вы можете легко принимать данные, создавать таблицы базы данных и сопоставлять структуры. Вы можете выбирать данные из разных источников в разных форматах и принимать их однократно или в рамках непрерывного процесса.

Преимущества приема данных одним щелчком:

* интуитивно понятный процесс, управляемый мастером приема;
* прием данных всего за несколько минут;
* прием данных из разных источников (локальный файл, большие двоичные объекты и контейнеры, содержащие до 10 тыс. больших двоичных объектов);
* прием данных в разных [форматах](#file-formats);
* прием данных в новые или существующие таблицы;
* вам предлагаются сопоставления таблиц и схемы, которые можно легко изменить;
* вы можете быстро и легко продолжить прием из контейнера с помощью [Сетки событий](one-click-ingestion-new-table.md#create-continuous-ingestion-for-container).

Возможность приема данных одним щелчком особенно полезна при первом приеме данных или в случае, когда схема данных вам незнакома.

## <a name="prerequisites"></a>Предварительные требования

* Если у вас еще нет подписки Azure, создайте [бесплатную учетную запись](https://azure.microsoft.com/free/) Azure, прежде чем начинать работу.
* Создайте [кластер и базу данных Azure Data Explorer](create-cluster-database-portal.md).
* Войдите в [пользовательский веб-интерфейс Azure Data Explorer](https://dataexplorer.azure.com/) и [добавьте подключение к кластеру](web-query-data.md#add-clusters).

## <a name="access-the-one-click-wizard"></a>Доступ к мастеру приема данных одним щелчком

Мастер приема данных одним щелчком помогает выполнить прием данных одним щелчком.

* Чтобы получить доступ к мастеру из [пользовательского веб-интерфейса Azure Data Explorer](https://dataexplorer.azure.com/), используйте один из следующих методов:
    * В области слева щелкните элемент **Данные**. На странице **Управление данными** выберите тип приема и щелкните элемент **Прием**. 
      
      :::image type="content" source="media/ingest-data-one-click/data-management.png" alt-text="Прием данных из окна управления данными интерфейса WebUI, Azure Data Explorer" lightbox="media/ingest-data-one-click/data-management.png":::
   
     * Щелкните правой кнопкой мыши строку **баз данных** или **таблиц** слева в меню пользовательского веб-интерфейса Azure Data Explorer и выберите элемент **Ingest new data** (Прием новых данных).
        
        :::image type="content" source="media/ingest-data-one-click/one-click-ingestion-in-webui.png" alt-text="Выбор функции приема данных одним щелчком в пользовательском веб-интерфейсе":::

* Чтобы открыть мастер приема данных одним щелчком на **начальном экране Azure Data Explorer** в вашем кластере, выполните первые два шага ([создание кластера и создание базы данных](#prerequisites)), а затем выберите **Ingest new data** (Принять новые данные).

    :::image type="content" source="media/ingest-data-one-click/welcome-ingestion.png" alt-text="Прием новых данных с начального экрана Azure Data Explorer":::


* Чтобы открыть мастер на портале Azure, в меню слева выберите элемент **Запрос**, щелкните правой кнопкой мыши имя **базы данных** или **таблицы** и выберите элемент **Прием новых данных**.

    :::image type="content" source="media/ingest-data-one-click/access-from-portal.png" alt-text="Доступ к мастеру приема данных одним щелчком на портале Azure":::

## <a name="one-click-ingestion-wizard"></a>Мастер приема данных одним щелчком

> [!NOTE]
> В этом разделе приведены общие сведения о мастере. Выбранные параметры зависят от формата принимаемых данных и источника данных, а также от того, в какую таблицу (новую или существующую) осуществляется прием.
>
> Примеры сценариев:
> * Прием данных в [новую таблицу из контейнера в формате CSV](one-click-ingestion-new-table.md).
> * Прием данных в [существующую таблицу из локального файла в формате JSON](one-click-ingestion-existing-table.md). 

Мастер помогает выполнять следующие действия:
   * принимать данные в [имеющейся таблице](one-click-ingestion-existing-table.md),
   * о приеме данных в [новую таблицу](one-click-ingestion-new-table.md)
   * Прием данных из:
      * Хранилища BLOB-объектов: до 10 больших двоичных объектов;
      * [локального файла](one-click-ingestion-existing-table.md): до 10 файлов;
      * [контейнера](one-click-ingestion-new-table.md) (контейнер больших двоичных объектов, контейнер ADLS 1-го поколения, контейнер ADLS 2-го поколения).

### <a name="schema-mapping"></a>Сопоставление схем

Служба автоматически создает схему и свойства приема, которые можно изменить. Вы можете использовать существующую структуру сопоставления или создать новую в зависимости от того, принимаете ли вы данные в новую или существующую таблицу.

На вкладке **Схема** нужно сделать следующее:
   * подтвердить автоматически выбранный тип сжатия;
   * выбрать [формат данных](#file-formats). Разные форматы поддерживают возможность дальнейших изменений.
   * Измените сопоставление в [окне редактора](#editor-window).

#### <a name="file-formats"></a>Форматы файлов

Прием данных одним щелчком — это прием из источника данных во всех [форматах, поддерживаемых Azure Data Explorer для приема](ingestion-supported-formats.md).

### <a name="editor-window"></a>Окно редактора

В окне **редактора** на вкладке **Схема** можно нужным образом настроить столбцы таблицы. 

[!INCLUDE [data-explorer-one-click-column-table](includes/data-explorer-one-click-column-table.md)]

>[!NOTE]
> Вам также доступен [редактор команд](one-click-ingestion-new-table.md#command-editor) (над областью **редактора**). В нем можно просматривать и копировать автоматические команды, созданные на основе входных данных.

#### <a name="mapping-transformations"></a>Преобразования сопоставлений

Некоторые сопоставления форматов данных (Parquet, JSON и Avro) поддерживают простые преобразования во время приема. Чтобы применить преобразования сопоставлений, создайте или обновите столбец в [окне редактора](#editor-window).

Преобразования сопоставлений можно выполнять для столбца **типа** string или datetime. При этом тип данных **источника** — int или long. Поддерживаются следующие преобразования сопоставлений:
* DateTimeFromUnixSeconds;
* DateTimeFromUnixMilliseconds;
* DateTimeFromUnixMicroseconds;
* DateTimeFromUnixNanoseconds.

Дополнительные сведения см. в разделе [Преобразования сопоставлений](#mapping-transformations).

### <a name="data-ingestion"></a>Прием данных

После завершения сопоставления схемы и операций со столбцами мастер приема начнет прием данных. 

* Прием данных из источников, **не являющихся контейнерами**, происходит мгновенно.

* Если источник данных является **контейнером**:
    * [Политика пакетной обработки](kusto/management/batchingpolicy.md) Azure Data Explorer выполнит агрегирование данных. 
    * После приема вы сможете скачать отчет о приеме и просмотреть данные о производительности каждого принятого большого двоичного объекта. 
    * Вы можете выбрать вариант **Create continuous ingestion** (Создать непрерывный прием) и настроить [непрерывный прием с помощью Сетки событий](one-click-ingestion-new-table.md#create-continuous-ingestion-for-container).
 
### <a name="initial-data-exploration"></a>Первоначальное изучение данных
   
После приема мастер предоставляет возможность использовать **[быстрые команды](one-click-ingestion-existing-table.md#explore-quick-queries-and-tools)** для первоначального изучения данных.


## <a name="next-steps"></a>Дальнейшие действия

* [Использование приема данных одним щелчком для приема данных в формате JSON из локального файла в существующую таблицу в Azure Data Explorer](one-click-ingestion-existing-table.md)
* [Использование приема данных одним щелчком для приема данных в формате CSV из контейнера в новую таблицу в Azure Data Explorer](one-click-ingestion-new-table.md)
* [Краткое руководство. Запрос данных в пользовательском веб-интерфейсе Azure Data Explorer](web-query-data.md)
* [Написание запросов для Azure Data Explorer на языке запросов Kusto](write-queries.md)

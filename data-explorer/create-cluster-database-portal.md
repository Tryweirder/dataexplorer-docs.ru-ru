---
title: Краткое руководство. Создание кластера и базы данных Azure Data Explorer
description: В этом кратком руководстве вы узнаете, как создать кластер и базу данных обозревателя данных Azure и принять (загрузить) данные.
author: orspod
ms.author: orspodek
ms.reviewer: mblythe
ms.service: data-explorer
ms.topic: quickstart
ms.date: 07/22/2019
ms.openlocfilehash: cdd44f6d90e5549153cb1a1a0673a2e054839f1f
ms.sourcegitcommit: 83202ec6fec0ce98fdf993bbb72adc985d6d9c78
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/06/2020
ms.locfileid: "87871971"
---
# <a name="quickstart-create-an-azure-data-explorer-cluster-and-database"></a>Краткое руководство. Создание кластера и базы данных Azure Data Explorer

> [!div class="op_single_selector"]
> * [Портал](create-cluster-database-portal.md)
> * [CLI](create-cluster-database-cli.md)
> * [PowerShell](create-cluster-database-powershell.md)
> * [C#](create-cluster-database-csharp.md)
> * [Python](create-cluster-database-python.md)
> * [Шаблон ARM](create-cluster-database-resource-manager.md)


Обозреватель данных Azure — это быстрая и высокомасштабируемая служба для изучения данных журналов и телеметрии. Чтобы использовать обозреватель данных Azure, сначала нужно создать кластер и одну или несколько баз данных в этом кластере. Затем вы должны принять (загрузить) данные в базы данных, чтобы к ним можно было выполнять запросы. В этом кратком руководстве вы создадите кластер и базу данных.

Если у вас еще нет подписки Azure, создайте [бесплатную учетную запись](https://azure.microsoft.com/free/) Azure, прежде чем начинать работу.

## <a name="sign-in-to-the-azure-portal"></a>Вход на портал Azure

Войдите на [портал Azure](https://portal.azure.com/).

## <a name="create-a-cluster"></a>Создание кластера

Создайте кластер Azure Data Explorer с определенным набором вычислительных ресурсов и ресурсов хранилища в группе ресурсов Azure.

1. Нажмите кнопку **+ Создать ресурс** в левом верхнем углу окна портала.

1. Найдите *Azure Data Explorer*.

   ![Поиск ресурсов](media/create-cluster-database-portal/search-resources.png)

1. В разделе **Azure Data Explorer** нажмите кнопку **Создать** внизу экрана.

1. Заполните форму основных сведений о кластере, указав следующую информацию.

   ![Форма создания кластера](media/create-cluster-database-portal/create-cluster-form2.png)

    **Параметр** | **Рекомендуемое значение** | **Описание поля**
    |---|---|---|
    | Подписка | Ваша подписка | Выберите подписку Azure, которую вы хотите использовать для кластера.|
    | Группа ресурсов | Ваша группа ресурсов | Воспользуйтесь существующей группой ресурсов или создайте новую. |
    | Имя кластера | Уникальное имя кластера | Выберите уникальное имя для кластера. К введенному имени кластера добавляется имя домена *[region].kusto.windows.net*. Имя должно содержать только строчные буквы и цифры. Его длина должна составлять от 4 до 22 символов.
    | Регион | *Западная часть США* или *Западная часть США 2* | В нашем примере используется *Западная часть США* или *Западная часть США 2* (если используются зоны доступности). Для производственной системы выберите регион, лучше всего соответствующий вашим потребностям.
    | Зоны доступности | *1*, *2* и (или) *3* | Разместите экземпляры кластера в разных зонах доступности в одном регионе (необязательно). [Зоны доступности Azure](/azure/availability-zones/az-overview) — это уникальные физические расположения в пределах одного региона Azure. Они защищают кластер Azure Data Explorer и данные от сбоя региона с частичной утратой доступности. Узлы кластера по умолчанию создаются в одном центре обработки данных. Выбрав несколько зон доступности, можно исключить единую точку отказа и обеспечить высокий уровень доступности. Развертывание в зонах доступности возможно только во время создания кластера и не может быть изменено позже.
    | Спецификации вычислительных ресурсов | *D13_v2* | Для этого краткого руководства выберите спецификацию с наименьшей ценой. Для производственной системы выберите спецификацию, лучше всего соответствующую вашим потребностям.
    | | | |

1. Выберите **Отзыв и создание**, чтобы просмотреть свои сведения о кластере, и нажмите кнопку **Создать**, чтобы подготовить кластер. Подготовка обычно занимает около 10 минут.

1. Когда развертывание будет завершено, выберите **Перейти ресурсу**.

    ![Переход к ресурсу](media/create-cluster-database-portal/notification-resource.png)

## <a name="create-a-database"></a>Создание базы данных

Теперь все готово для второго этапа процесса — создания базы данных.

1. На вкладке **Обзор** выберите **Создать базу данных**.

    ![Шаг 2. Создание базы данных](media/create-cluster-database-portal/database-creation.png)

1. Заполните форму, указав следующую информацию.

    ![Форма создания базы данных](media/create-cluster-database-portal/create-database.png)

    **Параметр** | **Рекомендуемое значение** | **Описание поля**
    |---|---|---|
    | Имя базы данных | *TestDatabase* | Имя базы данных должно быть уникальным в пределах кластера.
    | Срок хранения | *3650* | Интервал времени (в днях), в течение которого данные будут гарантированно доступны для запросов. Интервал времени измеряется с момента приема данных.
    | Период кэша | *31* | Интервал времени (в днях), в течение которого необходимо хранить часто запрашиваемые данные в хранилище SSD или ОЗУ, а не в долговременном хранилище.
    | | | |

1. Чтобы создать базу данных, выберите **Создать**. Создание обычно занимает меньше минуты. По завершении процесса вы вернетесь на вкладку **Обзор** в кластере.

## <a name="run-basic-commands-in-the-database"></a>Выполнения базовых команд в базе данных

Теперь, когда у вас есть кластер и базы данных, можно выполнять запросы и команды. Пока в базе данных нет данных, но вы видите, как работают эти инструменты.

1. В кластере выберите **Запрос**. Вставьте команду `.show databases` в окно запросов, затем выберите **Выполнить**.

    ![Команды Show databases](media/create-cluster-database-portal/show-databases.png)

    Результирующий набор показывает **TestDatabase** — единственную базу данных в кластере.

1. Вставьте команду `.show tables` в окно запросов, а затем выберите **Выполнить**.

    Эта команда возвращает пустой результирующий набор, так как у вас еще нет таблиц. Вы добавите таблицу в следующей статье этой серии.

## <a name="stop-and-restart-the-cluster"></a>Остановка и перезапуск кластера

Вы можете остановить и перезапустить кластер в зависимости от потребностей бизнеса.

1. Чтобы остановить кластер, в верхней части вкладки **Обзор** нажмите **Остановить**.

    :::image type="content" source="media/create-cluster-database-portal/stop-button.png" alt-text="Кнопка Остановить":::

    > [!NOTE]
    > Пока кластер остановлен, данные недоступны для запросов, и вы не можете принимать новые данные.

1. Чтобы перезапустить кластер, в верхней части вкладки **Обзор** нажмите **Перезапуск**.

    При перезапуске кластера он станет доступным примерно через 10 минут (как при первоначальной подготовке). Для загрузки данных в горячий кэш потребуется дополнительное время.  

## <a name="clean-up-resources"></a>Очистка ресурсов

Если вы планируете работать с другими краткими и подробными руководствами, сохраните созданные ресурсы. В противном случае очистите свою группу ресурсов, чтобы избежать лишних расходов.

1. На портале Azure выберите **Группа ресурсов** слева, а затем выберите группу ресурсов, которая содержит кластер Data Explorer.  

1. Чтобы удалить всю группу ресурсов, выберите **Удалить группу ресурсов**. Если используется существующая группа ресурсов, можно удалить только кластер Data Explorer.

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Краткое руководство. Прием данных из концентратора событий в обозреватель данных Azure](ingest-data-event-hub.md)



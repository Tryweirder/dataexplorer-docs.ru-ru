---
title: Использование очистки данных для удаления персональных данных с устройства или службы в Azure обозреватель данных
description: Узнайте, как очистить (удалить) данные из обозреватель данных Azure с помощью очистки данных.
author: orspod
ms.author: orspodek
ms.reviewer: kedamari
ms.service: data-explorer
ms.topic: how-to
ms.date: 05/12/2020
ms.openlocfilehash: 6bf447a845954bde58a0308a03bee45f98f16111
ms.sourcegitcommit: f354accde64317b731f21e558c52427ba1dd4830
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/26/2020
ms.locfileid: "88873242"
---
# <a name="enable-data-purge-on-your-azure-data-explorer-cluster"></a>Включение очистки данных в кластере Azure обозреватель данных

[!INCLUDE [gdpr-intro-sentence](includes/gdpr-intro-sentence.md)]

Azure обозреватель данных поддерживает возможность удаления отдельных записей. Удаление данных с помощью `.purge` команды защищает личные данные и не должно использоваться в других сценариях. Он не предназначен для частого выполнения запросов на удаление или удаления больших объемов данных и может существенно повлиять на производительность службы.

Выполнение `.purge` команды запускает процесс, выполнение которого может занять несколько дней. Если «плотность» записей, к которым применяется, `predicate` имеет большой размер, процесс будет повторно принимать все данные в таблице. Этот процесс оказывает значительное влияние на производительность и проcogs. Дополнительные сведения см. [в статье очистка данных в Azure обозреватель данных](kusto/concepts/data-purge.md).

## <a name="methods-of-invoking-purge-operations"></a>Методы вызова операций очистки 

Azure обозреватель данных (Kusto) поддерживает как удаление отдельных записей, так и очистку всей таблицы. `.purge`Команда может быть [вызвана двумя способами](kusto/concepts/data-purge.md#purge-table-tablename-records-command) для различения сценариев использования:

* Программный вызов: один шаг, который должен вызываться приложениями. Вызов этой команды напрямую запускает последовательность выполнения очистки.

* Вызов человеком: двухэтапный процесс, который требует явного подтверждения в качестве отдельного шага. Вызов команды возвращает токен проверки, который должен быть предоставлен для выполнения фактической очистки. Этот процесс снижает риск непреднамеренного удаления неверных данных. Использование этого параметра может занять много времени на больших таблицах с значительными данными холодного кэша. 

## <a name="prerequisites"></a>Предварительные требования

* Если у вас еще нет подписки Azure, создайте [бесплатную учетную запись](https://azure.microsoft.com/free/) Azure, прежде чем начинать работу.
* Войдите в [веб-интерфейс](https://dataexplorer.azure.com/).
* Создание [кластера Azure обозреватель данных и базы данных](create-cluster-database-portal.md)

## <a name="enable-data-purge-on-your-cluster"></a>Включение очистки данных в кластере

> [!WARNING]
> * Для включения очистки данных требуется перезапуск службы, что может привести к сбросу запроса.
> * Прежде чем включать очистку данных, ознакомьтесь с [ограничениями](#limitations) .

1. На портале Azure перейдите к кластеру Azure Data Explorer. 
1. В окне **Параметры**выберите **конфигурации**. 
1. В области **конфигурации** выберите **вкл** ., чтобы включить **параметр включить очистку**.
1. Выберите **Сохранить**.
 
    ![Включить очистку](media/data-purge-portal/enable-purge-on.png)

## <a name="disable-data-purge-on-your-cluster"></a>Отключение очистки данных в кластере

1. На портале Azure перейдите к кластеру Azure Data Explorer. 
1. В окне **Параметры**выберите **конфигурации**. 
1. В области **конфигурации** выберите **Отключить** , чтобы отключить **параметр включить очистку**.
1. Выберите **Сохранить**.

    ![Включить очистку](media/data-purge-portal/enable-purge-off.png)

## <a name="limitations"></a>Ограничения

* Процесс очистки является окончательным и необратимым. Невозможно отменить этот процесс или восстановить данные, которые были удалены. Таким образом, такие команды, как [Отменить удаление таблицы](kusto/management/undo-drop-table-command.md) , не могут восстанавливать очищенные данные, а откат данных до предыдущей версии не может пройти до последней очистки.
* `.purge`Команда выполняется для конечной точки управление данными: * https://ingest- [йоурклустернаме]. [ Регион]. kusto. Windows. NET*. Команде требуются разрешения [администратора базы данных](kusto/management/access-control/role-based-authorization.md) для соответствующих баз данных. 
* Из-за снижения производительности процесса очистки, вызывающий объект должен изменить схему данных таким образом, чтобы минимальные таблицы включали в себя важные данные, а также команды пакетной службы для каждой таблицы, чтобы снизить значительный эффект COGS от процесса очистки.
* `predicate`Параметр команды очистки используется для указания записей, которые нужно очистить. `Predicate` размер ограничен 63 КБ. 

## <a name="next-steps"></a>Дальнейшие шаги

* [Очистка данных в Azure обозреватель данных](kusto/concepts/data-purge.md)

---
title: Выберите правильный расчетный номер SKU для кластера Azure обозреватель данных
description: В этой статье описывается, как выбрать оптимальный размер SKU для кластера Azure обозреватель данных.
author: orspod
ms.author: orspodek
ms.reviewer: avnera
ms.service: data-explorer
ms.topic: how-to
ms.date: 10/13/2020
ms.openlocfilehash: 44c115cd509b72d5f83b1c1109ae09dc050d1a74
ms.sourcegitcommit: 898f67b83ae8cf55e93ce172a6fd3473b7c1c094
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/21/2020
ms.locfileid: "92337454"
---
# <a name="select-the-correct-compute-sku-for-your-azure-data-explorer-cluster"></a>Выберите правильный расчетный номер SKU для кластера Azure обозреватель данных 

При создании нового кластера или оптимизации кластера для изменения рабочей нагрузки Azure обозреватель данных предлагает несколько номеров SKU виртуальной машины. Эти расчетные номера SKU были тщательно выбраны для предоставления наиболее оптимальных затрат на любую рабочую нагрузку. 

Размер и номер SKU виртуальной машины кластера управления данными полностью управляются службой обозреватель данных Azure. Они определяются такими факторами, как размер виртуальной машины ядра и Рабочая нагрузка приема. 

Вы можете в любое время изменить расчетный номер SKU для кластера ядра, увеличив [масштаб кластера](manage-cluster-vertical-scaling.md). Лучше начать с наименьшего размера SKU, соответствующего первоначальному сценарию. Учтите, что увеличение масштаба кластера приводит к простою до 30 минут, в то время как кластер создается заново с новым номером SKU. Вы также можете использовать [рекомендации помощника по Azure](azure-advisor.md) для оптимизации SKU для вычислений.

> [!TIP]
> [Зарезервированные экземпляры вычислений (RI)](/azure/virtual-machines/windows/prepay-reserved-vm-instances) применимы к кластеру Azure обозреватель данных.  

В этой статье описываются различные варианты вычислений SKU и предоставляются технические сведения, которые помогут вам сделать лучший вариант.

## <a name="select-a-cluster-type"></a>Выберите тип кластера

Azure обозреватель данных предлагает кластеры двух типов:

* **Рабочая среда**. производственные кластеры содержат два узла для кластеров управления данными и ядра, а также работают в рамках [соглашения об уровне обслуживания](https://azure.microsoft.com/support/legal/sla/data-explorer/v1_0/)Azure обозреватель данных.

* **Разработка и тестирование (без соглашения об уровне обслуживания)**: кластеры разработки и тестирования содержат один узел для модуля и кластера управления данными. Этот тип кластера является минимальной конфигурацией затрат из-за нехватки количества экземпляров и без учета разметки модуля. Соглашение об уровне обслуживания для этой конфигурации кластера отсутствует, так как в нем отсутствует избыточность.

## <a name="compute-sku-types"></a>Типы SKU для вычислений

Кластер Azure обозреватель данных поддерживает различные номера SKU для различных типов рабочих нагрузок. Каждый SKU предлагает отдельный SSD и соотношение ресурсов ЦП, чтобы помочь клиентам правильно масштабировать свое развертывание и создавать оптимальные решения для своей корпоративной рабочей нагрузки.

### <a name="compute-optimized"></a>Оптимизированные для вычислений

* Обеспечивает высокую степень ядра для кэширования.
* Подходит для большого числа запросов с небольшими и средними размерами данных.
* Локальный SSD для ввода-вывода с низкой задержкой.

### <a name="heavy-compute"></a>Высокие расчеты

* Номера SKU AMD, которые обеспечивают более высокий уровень ядра и доли кэша.
* Локальный SSD для ввода-вывода с низкой задержкой.

### <a name="storage-optimized"></a>Оптимизированные для операций в хранилище

* Параметр для большего объема хранилища в диапазоне от 1 ТБ до 4 ТБ на узел ядра.
* Подходит для рабочих нагрузок, требующих хранения большого объема данных с менее ресурсоемкими требованиями к вычислительным запросам.
* Некоторые номера SKU используют хранилище класса Premium (управляемый диск), подключенное к узлу ядра, а не локальный SSD для хранения критических данных.

### <a name="isolated-compute"></a>Изолированное вычисление

Идеальный SKU для выполнения рабочих нагрузок, требующих изоляции на уровне экземпляра сервера.

## <a name="select-and-optimize-your-compute-sku"></a>Выбор и оптимизация SKU для вычислений 

### <a name="select-your-compute-sku-during-cluster-creation"></a>Выбор расчетного номера SKU во время создания кластера

При создании кластера Azure обозреватель данных выберите *оптимальный* номер SKU виртуальной машины для запланированной рабочей нагрузки.

Следующие атрибуты также позволяют выбрать номер SKU:
 
| attribute | Сведения |
|---|---
|**Доступность**| Не все номера SKU доступны во всех регионах. |
|**Цена за кэш за ГБ на ядро**| Высокая стоимость с оптимизированными для вычислений и большими объемами вычислений. Низкая стоимость с учетом номеров SKU, оптимизированных для хранения |
|**Цены на зарезервированные экземпляры (RI)**| Скидка на RI зависит от региона и SKU |  

> [!NOTE]
> Для кластера Azure обозреватель данных стоимость вычислений является наиболее важной частью стоимости кластера по сравнению с хранилищем и сетью.

### <a name="optimize-your-cluster-compute-sku"></a>Оптимизация расчетного номера SKU кластера

Чтобы оптимизировать расчетный номер SKU кластера, [Настройте вертикальное масштабирование](manage-cluster-vertical-scaling.md#configure-vertical-scaling) и проверьте [рекомендации помощника по Azure](azure-advisor.md). 

Используя различные варианты вычислений SKU, можно оптимизировать затраты на производительность и оперативное кэширование для вашего сценария. 
* Если требуется наиболее оптимальная производительность для большого объема запросов, идеальный номер SKU должен быть оптимизирован для вычислений. 
* Если необходимо запрашивать большие объемы данных с относительно низкой загрузкой запросов, то SKU, оптимизированные для хранения, могут снизить затраты и по-прежнему обеспечивать высокую производительность.

Поскольку количество экземпляров на кластер для малых SKU ограничено, предпочтительнее использовать более крупные виртуальные машины с большим объемом ОЗУ. Для некоторых типов запросов требуется больше ОЗУ, что требует более ресурсоемких ресурсов ОЗУ, например запросов, использующих `joins` . Именно поэтому при рассмотрении параметров масштабирования рекомендуется масштабировать их до более крупного SKU, а не масштабировать, добавляя дополнительные экземпляры.

## <a name="compute-sku-options"></a>Параметры вычислений SKU

Технические спецификации для виртуальных машин кластера Azure обозреватель данных описаны в следующей таблице.

|**Имя**| **Категория** | **Размер SSD** | **Ядра** | **ОЗУ** | **Диски хранилища класса Premium (1 &nbsp; ТБ)**| **Минимальное число экземпляров на кластер** | **Максимальное число экземпляров на кластер**
|---|---|---|---|---|---|---|---
|Dev (без соглашения об уровне обслуживания) Standard_D11_v2| оптимизированные для вычислений | 75 &nbsp; ГБ    | 1 | 14 &nbsp; ГБ | 0 | 1 | 1
|Dev (без соглашения об уровне обслуживания) Standard_E2a_v4| оптимизированные для вычислений | 18 &nbsp; ГБ    | 1 | 14 &nbsp; ГБ | 0 | 1 | 1
|Standard_D11_v2| оптимизированные для вычислений | 75 &nbsp; ГБ    | 2 | 14 &nbsp; ГБ | 0 | 2 | 8 
|Standard_D12_v2| оптимизированные для вычислений | 150 &nbsp; ГБ   | 4 | 28 &nbsp; ГБ | 0 | 2 | 16
|Standard_D13_v2| оптимизированные для вычислений | 307 &nbsp; ГБ   | 8 | 56 &nbsp; ГБ | 0 | 2 | 1000
|Standard_D14_v2| оптимизированные для вычислений | 614 &nbsp; ГБ   | 16| 112 &nbsp; ГБ | 0 | 2 | 1000
|Standard_E2a_v4| высокие расчеты | 18 &nbsp; ГБ    | 2 | 14 &nbsp; ГБ | 0 | 2 | 8 
|Standard_E4a_v4| высокие расчеты | 54 &nbsp; ГБ   | 4 | 28 &nbsp; ГБ | 0 | 2 | 16
|Standard_E8a_v4| высокие расчеты | 127 &nbsp; ГБ   | 8 | 56 &nbsp; ГБ | 0 | 2 | 1000
|Standard_E16a_v4| высокие расчеты | 273 &nbsp; ГБ   | 16| 112 &nbsp; ГБ | 0 | 2 | 1000
|Standard_DS13_v2 + 1 &nbsp; ТБ &nbsp; PS| оптимизированные для хранилища | 1 &nbsp; ТБ | 8 | 56 &nbsp; ГБ | 1 | 2 | 1000
|Standard_DS13_v2 + 2 &nbsp; ТБ &nbsp; PS| оптимизированные для хранилища | 2 &nbsp; ТБ | 8 | 56 &nbsp; ГБ | 2 | 2 | 1000
|Standard_DS14_v2 + 3 &nbsp; ТБ &nbsp; PS| оптимизированные для хранилища | 3 &nbsp; ТБ | 16 | 112 &nbsp; ГБ | 2 | 2 | 1000
|Standard_DS14_v2 + 4 &nbsp; ТБ &nbsp; PS| оптимизированные для хранилища | 4 &nbsp; ТБ | 16 | 112 &nbsp; ГБ | 4 | 2 | 1000
|Standard_E8as_v4 + 1 &nbsp; ТБ &nbsp; PS| оптимизированные для хранилища | 1 &nbsp; ТБ | 8 | 56 &nbsp; ГБ | 1 | 2 | 1000
|Standard_E8as_v4 + 2 &nbsp; ТБ &nbsp; PS| оптимизированные для хранилища | 2 &nbsp; ТБ | 8 | 56 &nbsp; ГБ | 2 | 2 | 1000
|Standard_E16as_v4 + 3 &nbsp; ТБ &nbsp; PS| оптимизированные для хранилища | 3 &nbsp; ТБ | 16 | 112 &nbsp; ГБ | 3 | 2 | 1000
|Standard_E16as_v4 + 4 &nbsp; ТБ &nbsp; PS| оптимизированные для хранилища | 4 &nbsp; ТБ | 16 | 112 &nbsp; ГБ | 4 | 2 | 1000
|Standard_L4s| оптимизированные для хранилища | 650 &nbsp; ГБ | 4 | 32 &nbsp; ГБ | 0 | 2 | 16
|Standard_L8s| оптимизированные для хранилища | 1,3 &nbsp; ТБ | 8 | 64 &nbsp; ГБ | 0 | 2 | 1000
|Standard_L16s| оптимизированные для хранилища | 2,6 &nbsp; ТБ | 16| 128 &nbsp; ГБ | 0 | 2 | 1000
|Standard_L8s_v2| оптимизированные для хранилища | 1,7 &nbsp; ТБ | 8 | 64 &nbsp; ГБ | 0 | 2 | 1000
|Standard_L16s_v2| оптимизированные для хранилища | 3,5 &nbsp; ТБ | 16| 128 &nbsp; ГБ | 0 | 2 | 1000
|Standard_E64i1_v3| изолированное вычисление | 1,1 &nbsp; ТБ | 16| 128 &nbsp; ГБ | 0 | 2 | 1000

* Обновленный список единиц вычислений SKU для каждого региона можно просмотреть с помощью Azure обозреватель данных [ЛИСТСКУС API](/dotnet/api/microsoft.azure.management.kusto.clustersoperationsextensions.listskus?view=azure-dotnet). 
* Дополнительные сведения о [различных SKU](/azure/virtual-machines/windows/sizes). 

## <a name="next-steps"></a>Дальнейшие шаги

* Вы можете в любое время [увеличить или уменьшить масштаб](manage-cluster-vertical-scaling.md) кластера подсистемы, ИЗМЕНИВ номер SKU виртуальной машины в зависимости от различий. 

* Можно [масштабировать или масштабировать](manage-cluster-horizontal-scaling.md) размер кластера подсистемы, чтобы изменить емкость в зависимости от изменяющихся требований.

* Используйте [рекомендации помощника по Azure](azure-advisor.md) для оптимизации РАСЧЕТНОГО номера SKU.
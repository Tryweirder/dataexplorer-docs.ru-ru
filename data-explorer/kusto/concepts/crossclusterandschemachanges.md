---
title: Kusto запросы между кластерами & изменения схемы — Azure обозреватель данных
description: В этой статье описаны запросы и изменения схемы между кластерами в обозреватель данных Azure.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 02/13/2020
ms.openlocfilehash: 58fd8cef3836d17eb327734338b1567d815d7349
ms.sourcegitcommit: fd3bf300811243fc6ae47a309e24027d50f67d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/13/2020
ms.locfileid: "83382035"
---
# <a name="cross-cluster-queries-and-schema-changes"></a>Запросы между кластерами и изменения схемы 

При выполнении запросов между кластерами кластер, выполняющий исходную интерпретацию запроса, должен иметь схему сущностей, на которые имеются ссылки в удаленных кластерах.
Так что при отправке следующего запроса в *Cluster1*

```kusto
Table1 | join ( cluster("Cluster2").database("SomeDB").Table2 ) on KeyColumn
``` 

*Cluster1* должен иметь представление о том, какие столбцы *Таблица2* в *Cluster2* , и какие типы данных этих столбцов. Чтобы выполнить отправку специальной команды из *Cluster1* в *Cluster2*.
Отправка этой команды может быть довольно дорогостоящей, поэтому после извлечения схемы для удаленных сущностей кэшируются, и следующий запрос, ссылающийся на одни и те же сущности, должен будет выполнять меньше сетевых операций.

Это может привести к нежелательным последствиям при изменении схемы удаленных объектов (добавленные столбцы не распознаются или удалены столбцы, вызывающие ошибку частичного запроса вместо семантической ошибки).

Для устранения этой проблемы срок действия кэшированных схем истекает через 1 час после получения, поэтому все запросы, выполняемые более чем через 1 час после изменения, будут работать с обновленной схемой.
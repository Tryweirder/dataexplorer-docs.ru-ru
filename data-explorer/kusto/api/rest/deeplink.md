---
title: Глубокие ссылки на uI - Azure Data Explorer Документы Майкрософт
description: В этой статье описаны глубокие ссылки на uI в Azure Data Explorer.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 10/30/2019
ms.openlocfilehash: c9535ced274ccdbe38f8d9a765e98d11e7b381e5
ms.sourcegitcommit: 47a002b7032a05ef67c4e5e12de7720062645e9e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/15/2020
ms.locfileid: "81523687"
---
# <a name="ui-deep-links"></a>UI глубокие ссылки

REST API предоставляет функцию глубокой `GET` ссылки, которая позволяет запросам HTTP перенаправить вызываемую абонента на инструмент uI. Например, можно создать URI, который открывает инструмент Kusto.Explorer, автоматически настраивает его для определенного кластера и базы данных, запускает определенный запрос и отображает его результаты пользователю.

UI глубоко связывает REST API:

* Кластер (обязательный) обычно определяется неявно, как служба, которая реализует REST API, но может `uri`быть отменена, указав параметр URI запроса.

* База данных (необязательно) указана как первый и единственный фрагмент пути URI. База данных является обязательной для запросов и необязательно для команд управления.

* Команда запроса или управления (необязательно) указывается с `query`помощью параметра `querysrc` URI запроса или параметра запроса URI (который указывает на веб-ресурс, который удерживает запрос).
  `query`может быть использован в тексте самой команды запроса или управления (закодирован с помощью кодирования параметров httpry). Кроме того, он может быть использован в base64 кодирования gzip текста команды запроса или управления (что позволяет сжимать длинные запросы, чтобы они соответствовали ограничениям длины URI браузера по умолчанию).

* Название кластерного соединения (необязательно) указывается с помощью параметра `name`запроса URI.

* Инструмент uI указан с `web` помощью дополнительного параметра URI запроса.
  `web=0`указывает на настольное приложение Kusto.Explorer. `web=1`указывает на веб-приложение Kusto.WebExplorer.
  `web=2`— старая версия Kusto.WebExplorer (основанная на анализе приложений Insights). `web=3`Kusto.WebExplorer с пустым профилем (не будут доступны ранее открытые вкладки или кластеры). Наконец, `web` параметр запроса `saw=1` может быть заменен для того, чтобы указать версию SAW Kusto.Explorer.

Вот несколько примеров ссылок:

* `https://help.kusto.windows.net/`: Когда агент пользователя (например, `GET /` браузер) выдает запрос, он будет перенаправлен на инструмент `help` пользовательского интерфейса по умолчанию, настроенный для запроса кластера.
* `https://help.kusto.windows.net/Samples`: Когда агент пользователя (например, `GET /Samples` браузер) выдает запрос, он будет перенаправлен на инструмент `help` `Samples` пользовательского интерфейса по умолчанию, настроенный для запроса базы данных кластера.
* `http://help.kusto.windows.net/Samples?query=StormEvents`: Когда пользователь (например, браузер) `GET /Samples?query=StormEvents` выдает запрос, он будет перенаправлен на инструмент `help` пользовательского интерфейса по умолчанию, настроенный на запрос базы данных кластера `Samples` и выпуск `StormEvents` запроса.

> [!NOTE]
> Глубокая ссылка URIs не требует аутентификации, так как аутентификация выполняется инструментом uI, используемым для перенаправления.
> Любой `Authorization` заголовок HTTP, если это предусмотрено, игнорируется.

> [!IMPORTANT]
> По соображениям безопасности инструменты uI автоматически не `query` выполняют `querysrc` команд управления, даже если они указаны в глубокой ссылке.

## <a name="deep-linking-to-kustoexplorer"></a>Глубокая связь с Kusto.Explorer

Этот REST API выполняет перенаправление, которое устанавливает и запускает настольный клиентский инструмент Kusto.Explorer со специально разработанными параметрами запуска, которые открывают подключение к определенному кластеру двигателей Kusto и выполняют запрос против этого кластера.

* Путь: `/` *«Имя базы данных»*
* Глагол:`GET`
* Строка запроса:`web=0`

> [!NOTE]
> Подробнее [о связях с Kusto.Explorer](../../tools/kusto-explorer.md#deep-linking-queries) можно узнать о перенаправлении синтаксиса URI для запуска Kusto.Explorer.

## <a name="deep-linking-to-kustowebexplorer"></a>Глубокая связь с Kusto.WebExplorer

Этот REST API выполняет перенаправление на Kusto.WebExplorer, веб-приложение.

* Путь: `/` *«Имя базы данных»*
* Глагол:`GET`
* Строка запроса:`web=1`

## <a name="specifying-the-query-or-control-command-in-the-uri"></a>Определение команды запроса или управления в URI

При указании параметра `query` строки URI-запроса он должен быть закодирован в соответствии с правилами HTML строки URI query. Кроме того, текст команды запроса или управления может быть сжат с помощью gzip, а затем кодируется с помощью кодирования base64. Это позволяет отправлять более длинные запросы или командуправления (поскольку последний метод кодирования приводит к более коротким УРИ).

## <a name="specifying-the-query-or-control-command-by-indirection"></a>Определение команды запроса или управления по направлению

Если команда запроса или управления очень длинная, даже кодирование с помощью gzip/base64 превысит максимальную длину URI агента пользователя. Кроме того, предусмотрен параметр `querysrc` строки URI query, и его значением является короткий URI, указывающий на веб-ресурс, вмещающий текст команды запроса или управления.

Например, это может быть URI для файла, размещенного хранилищем Azure Blob Storage.

> [!NOTE]
> Если глубокая ссылка на инструмент uI веб-приложения, веб-служба, предоставляющая команду запроса или управления (т.е. служба, предоставляющая `querysrc` URI), должна быть настроена для поддержки CORS для `dataexplorer.azure.com`.
>
> Кроме того, если эта служба требует информации о проверке подлинности/авторизации, она должна предоставляться как часть самого URI.
>
> Например, `querysrc` если точки на blob в Azure Blob Storage, необходимо настроить учетную запись хранилища для поддержки CORS, и либо сделать капля сама общедоступной (так что она может быть загружена без требований безопасности) или добавить соответствующий Azure Storage SAS в URI. Конфигурация CORS может быть выполнена с [портала Azure](https://portal.azure.com/) или с [Azure Storage Explorer.](https://azure.microsoft.com/features/storage-explorer/)
> Смотрите [поддержку CORS в хранилище Azure.](https://docs.microsoft.com/rest/api/storageservices/cross-origin-resource-sharing--cors--support-for-the-azure-storage-services)


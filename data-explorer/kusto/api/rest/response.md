---
title: Ответ на запрос/управление HTTP - Azure Data Explorer Документы Майкрософт
description: В этой статье описывается ответ на запрос/управление HTTP в Azure Data Explorer.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 11/05/2018
ms.openlocfilehash: 13937bbc9d17ed570c40926497ccf9b5c942fe72
ms.sourcegitcommit: 47a002b7032a05ef67c4e5e12de7720062645e9e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/15/2020
ms.locfileid: "81503083"
---
# <a name="querymanagement-http-response"></a>HTTP-ответ для запроса или управления

## <a name="response-status"></a>Статус ответа

Строка статуса ответа HTTP соответствует стандартным кодам ответа HTTP (например, 200 указывает на успех). Следующие коды статуса в настоящее время используются (но обратите внимание, что любой действительный код HTTP может быть возвращен):

|Код|Подкод       |Описание                                    |
|----|---------------|-----------------------------------------------|
|100 |Continue       |Клиент может продолжить отправку запроса.       |
|200 |OK             |Запрос начал успешно обрабатываться.       |
|400 |BadRequest     |Запрос плохо сформирован и не удался (постоянно).|
|401 |Не авторизовано   |Клиент должен сначала проверить подлинность.            |
|403 |Запрещено      |Запрос клиента отклоняется.                      |
|404 |NotFound       |Запрос ссылки несуществующей организации.      |
|413 |Полезная нагрузкаTooLarge|Запрос полезной нагрузки превысил пределы.               |
|429 |TooManyRequests|Запрос был отклонен из-за регулирования.     |
|504 |Время ожидания        |Запрос приурочен.                         |
|520 |ServiceError   |Служба столкнулась с ошибкой обработки запроса.|

> [!NOTE]
> Важно понимать, что код 200 статусов означает, что обработка запроса началась успешно, а не успешно завершена. Сбои, возникающие при обработке запросов, но после возврата 200, называются "частичные сбои запроса", и при возникновении специальных индикаторов вводятся в поток отклика, чтобы предупредить клиента о том, что они произошли.

## <a name="response-headers"></a>Заголовки ответов

Следующие пользовательские заголовки будут возвращены.

|Пользовательский заголовок           |Описание                                                                                               |
|------------------------|----------------------------------------------------------------------------------------------------------|
|`x-ms-client-request-id`|Уникальный идентификатор запроса, отправленный в заголовок запроса с тем же именем, или какой-либо уникальный идентификатор.     |
|`x-ms-activity-id`      |Глобально уникальный идентификатор корреляции для запроса (созданный службой).                        |

## <a name="response-body"></a>Тело ответа

Если код состояния 200, то тело ответа является документом JSON, который кодирует результаты команды запроса или управления как секвеки прямоугольных таблиц.
Дополнительные сведения см. ниже.

> [!NOTE]
> Эта последовательность таблиц отражается SDK. Например, при использовании библиотеки .NET Framework Kusto.Data последовательность `System.Data.IDataReader` таблиц становится результатами в объекте, возвращенном SDK.

Если код состояния указывает на ошибку 4xx или 5xx (кроме 401), орган омовения является документом JSON, который кодирует детали сбоя, соответствующие [Руководящим принципам Microsoft REST API.](https://github.com/microsoft/api-guidelines)

> [!NOTE]
> Если `Accept` заголовок не включен в запрос, тело ответа о сбое не обязательно является документом JSON.

## <a name="json-encoding-of-a-sequence-of-tables"></a>Кодирование последовательности таблиц JSON

Кодирование JSON последовательности таблиц представляет собой единый пакет свойств JSON со следующими парами имени/значения:

|Имя  |Значение                              |
|------|-----------------------------------|
|Таблицы|Массив сумки свойства таблицы.|

Сумка свойства Таблицы имеет следующие пары имени/значения:

|Имя     |Значение                               |
|---------|------------------------------------|
|TableName|Строка, идентифицирует таблицу. |
|Столбцы  |Массив пакета свойств Колонка.|
|Строки     |Массив массива строки.          |

Сумка свойства колонки имеет следующие пары имени/значения:

|Имя      |Значение                                                          |
|----------|---------------------------------------------------------------|
|ColumnName|Строка, определяющая столбец.                           |
|DataType  |Строка, обеспечивающая приблизительный тип столбца .NET.|
|ColumnType|Строка, обеспечивающая [тип масштабирования данных](../../query/scalar-data-types/index.md) столбца.|

Массив строки имеет тот же порядок, что и соответствующий массив столбцов, и имеет один элемент со значением строки для соответствующего столбца.
Типы данных Scalar, которые не могут `datetime
and `быть представлены в JSON (например, время) представлены как строки JSON.

В следующем примере показан один возможный такой `Table_0` объект, когда `Text` он `string` содержит одну таблицу, называемую, которая содержит один столбец типа и одну строку.

```json
{
    "Tables": [{
        "TableName": "Table_0",
        "Columns": [{
            "ColumnName": "Text",
            "DataType": "String",
            "ColumnType": "string"
        }],
        "Rows": [["Hello, World!"]]
}
```

Другой эксплем:

![Представительство jSON в ответе](../images/rest-json-representation.png "отдых-Json-представление")

## <a name="the-meaning-of-tables-in-the-response"></a>Значение таблиц в ответе

В большинстве случаев команды управления возвращают результат с помощью одной таблицы, удерживая информацию, генерируемую командой управления. Например, `.show databases` команда возвращает одну таблицу с подробной информацией обо всех доступных базах данных в кластере.

Запросы, с другой стороны, обычно возвращают несколько таблиц. Для каждого [табловидного выражения](../../query/tabularexpressionstatements.md)одна или несколько таблиц излучаются в порядке, представляя результаты, полученные оператором (таких таблиц может быть несколько из-за [пакетов](../../query/batches.md) и [операторов вилки).](../../query/forkoperator.md)

Кроме того, обычно издаются три таблицы:

* Таблица, @ExtendedProperties предоставляющая дополнительные значения, такие как инструкции по визуализации клиентов (излучаемые, например, для отражения информации в [операторе рендера)](../../query/renderoperator.md)и информация [о курсоре базы данных).](../../management/databasecursor.md)
* Таблица queryStatus, предоставляющая дополнительную информацию о выполнении самого запроса, например, успешно ли он выполнен или нет, и какие ресурсы были использованы запросом.
* Таблица TableOfContents, которая излучается последней и перечисляет другие таблицы в результатах.


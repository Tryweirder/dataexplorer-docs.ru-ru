---
title: Политика потокового приема - Azure Data Explorer Документы Майкрософт
description: В этой статье описывается политика потокового приема в Azure Data Explorer.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 02/20/2020
ms.openlocfilehash: ef4199e0cd8c1e14839e5508a9c6a0d793de0cc0
ms.sourcegitcommit: 47a002b7032a05ef67c4e5e12de7720062645e9e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/15/2020
ms.locfileid: "81519607"
---
# <a name="streaming-ingestion-policy"></a>Политика потокового приема

## <a name="streaming-ingestion-target-scenario"></a>Сценарий целевого проглатывания потоковой передачи

Потоковая передача предназначена для сценариев, которые требуют низкой задержки со временем приема менее 10 секунд для данных с различным объемом. Он используется для оптимизации оперативной обработки многих таблиц в одной или нескольких базах данных, где поток данных в каждую таблицу относительно мал (несколько записей в секунду), но общий объем приема данных высок (тысячи записей в секунду).

Используйте классический (бык) проглатывание вместо потокового приема, когда объем данных увеличивается до более чем 1 МБ в секунду за стол. 

* Чтобы узнать, как реализовать эту функцию, см [потокового приема.](https://docs.microsoft.com/azure/data-explorer/ingest-data-streaming)
* Для получения информации о командах управления потоковым пригласинием см. [Команды управления используются для управления политикой потокового приема](../management/streamingingestion-policy.md)

## <a name="streaming-ingestion-policy-definition"></a>Определение политики потокового приема

Политика потокового приема может быть определена на столе или базе данных. Определение этой политики на уровне базы данных применяется в тех же настройках ко всем существующим и будущим таблицам в базе данных. Если политика потокового приема установлена как на уровне таблицы, так и на уровне базы данных, настройка уровня таблицы имеет приоритет.

> [!NOTE]
> Если таблица не получает потоковое проглатывание напрямую, но только через политику обновления, на этой таблице не должно быть определено никакое потоковое обновление политики. 

Политика потокового приема устанавливает максимальное количество строковых хранилиров, по которым будут распространяться потоковые данные таблицы. Распределение необходимо как для поддержки доступности, так и для поддержки скорости передачи данных.

## <a name="setting-the-number-of-row-stores"></a>Настройка количества магазинов строк

Необходимо определить количество магазинов строк, установленных в политике потокового приема. Это число должно основываться на скорости потоковой передачи данных в таблице (достаточно йератовой оценки).
Минимальное рекомендуемое количество рядовых магазинов для любой таблицы составляет четыре. Максимальное количество магазинов строки составляет 64.
Чем выше скорость потоковой передачи данных для таблицы, тем выше необходимое количество хранилиев строк, необходимых в связанной политике потокового приема.
Используйте следующую таблицу для рекомендуемых настроек (если вы сомневаетесь, используйте более высокое число):

|Ориентировочная пиковая скорость потоковой передачи данных (за таблицу)|Количество строковых магазинов|
|----------|------|
|< 1 Гб/ч |4|
|1 - 2 ГБ/ч |4-8|
|2 - 3 ГБ/ч |8-12|
|3 - 4 ГБ/ч |12-16|
| > 4 ГБ/ч |

 Для получения дополнительной консультации по этому поводу, откройте [билет поддержки](https://ms.portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/overview)

Для оптимальной задержки запроса количество строк, определенных в таблице, не должно значительно превышать рекомендацию выше.

> [!NOTE]
> При настройке политики потокового приема для базы данных назначаем количество хранилий строк, необходимых для таблицы с наивысшей частотой данных. 
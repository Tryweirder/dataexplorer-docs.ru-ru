---
title: Политика приема потоковой передачи в Azure обозреватель данных | Документация Майкрософт
description: В этой статье описывается политика приема потоковой передачи в Azure обозреватель данных.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 02/20/2020
ms.openlocfilehash: a0141482e3714ed710dbdc6fa00e3b8b396e77e6
ms.sourcegitcommit: bb8c61dea193fbbf9ffe37dd200fa36e428aff8c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/13/2020
ms.locfileid: "83373312"
---
# <a name="streaming-ingestion-policy"></a>Политика потокового приема

## <a name="streaming-ingestion-target-scenario"></a>Сценарий целевого приема потоковой передачи

Прием потоковой передачи предназначен для сценариев, требующих низкой задержки с временем приема менее 10 секунд для различных данных тома. Он используется для оптимизации рабочей обработки многих таблиц в одной или нескольких базах данных, где поток данных в каждой таблице сравнительно мал (небольшое число записей в секунду), а общий объем приема данных — высокий (тысячи записей в секунду).

Используйте классический (массовый) прием вместо приема потоковой передачи, когда объем данных увеличивается более чем на 1 МБ в секунду на таблицу. 

* Сведения о реализации этой функции см. в разделе [потокового приема](../../ingest-data-streaming.md).
* Дополнительные сведения о командах управления приемом потоковой передачи см. в разделе [управляющие команды используются для управления политикой приема потоковой передачи](../management/streamingingestion-policy.md) .

## <a name="streaming-ingestion-policy-definition"></a>Определение политики приема потоков

Политику приема потоковой передачи можно определить в таблице или базе данных. При определении этой политики на уровне базы данных одни и те же параметры применяются ко всем существующим и будущим таблицам в базе данных. Если политика приема потоковой передачи задана как на уровне таблицы, так и на уровне базы данных, то параметр уровня таблицы имеет приоритет.

> [!NOTE]
> Если таблица не получает приема потоковой передачи напрямую, но только через политику обновления, для этой таблицы не нужно определять политику приема потоковой передачи. 

Политика приема потоковой передачи задает максимальное число хранилищ строк, в которых будут распределяться потоковые данные таблицы. Распределение требуется как для обеспечения доступности, так и для поддержки скорости передачи данных.

## <a name="setting-the-number-of-row-stores"></a>Задание количества хранилищ строк

Необходимо определить число хранилищ строк, заданных в политике приема потоков. Это значение должно основываться на скорости потоковой передачи данных на таблицу (достаточно грубая оценка).
Минимальное рекомендуемое число хранилищ строк для любой таблицы — четыре. Максимальное поддерживаемое количество хранилищ строк — 64.
Чем выше скорость потоковой передачи данных для таблицы, тем выше необходимое количество хранилищ строк, необходимое в связанной политике приема потоковой передачи.
Используйте следующую таблицу для рекомендуемых параметров (если используется более высокое значение):

|Предполагаемая скорость потоковой передачи данных в часы пиковой нагрузки (на таблицу)|Число хранилищ строк|
|----------|------|
|< 1 ГБ/ч |4|
|1-2 ГБ на час |4-8|
|2-3 ГБ на час |8-12|
|3-4 ГБ на час |12-16|
| > 4 ГБ/ч |

 Чтобы получить дополнительные советы, отправьте запрос в [службу поддержки](https://ms.portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/overview) .

Для оптимальной задержки запросов количество хранилищ строк, определенных для каждой таблицы, не должно превышать описанной выше рекомендации.

> [!NOTE]
> При настройке политики приема потоковой передачи для базы данных назначьте количество хранилищ строк, необходимое для таблицы с наивысшей скоростью данных. 
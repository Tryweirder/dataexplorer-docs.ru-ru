---
title: Политика Kusto Инжестионбатчинг оптимизирует пакетную обработку обозреватель данных Azure
description: В этой статье описывается политика Инжестионбатчинг в Azure обозреватель данных.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 02/19/2020
ms.openlocfilehash: 0a493c4e808a43d04714487ada17964ab048de6f
ms.sourcegitcommit: 4b061374c5b175262d256e82e3ff4c0cbb779a7b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/09/2020
ms.locfileid: "94373771"
---
# <a name="ingestionbatching-policy"></a>Политика Инжестионбатчинг

## <a name="overview"></a>Обзор

В процессе приема Kusto пытается оптимизировать пропускную способность за счет пакетной обработки небольших фрагментов данных, так как они ожидают приема.
Такой тип пакетной обработки сокращает количество ресурсов, потребляемых процессом приема, а также не требует ресурсов после приема для оптимизации небольших сегментов данных, создаваемых непакетированным приемом.

Однако существует недостаток для выполнения пакетной обработки перед приемом, что представляет собой введение в принудительную задержку, так что пришло время от получения полного времени от запроса приема данных до тех пор, пока оно не будет готово.

Чтобы разрешить управление этой скидкой, одна из них может использовать `IngestionBatching` политику.
Эта политика применяется только к приему в очереди и обеспечивает максимальную принудительную задержку, позволяющую выполнять пакетную обработку небольших BLOB-объектов.

## <a name="details"></a>Сведения

Как упоминалось выше, существует оптимальный размер данных для массового приема.
В настоящее время этот размер составляет около 1 ГБ несжатых данных. Прием, который выполняется в больших двоичных объектах, которые содержат гораздо меньший объем данных, чем оптимальный размер, не является оптимальным, и поэтому в очереди приема Kusto будет группировать такие небольшие большие двоичные объекты вместе. Пакетная обработка выполняется до тех пор, пока первое условие не примет значение true:

1. Общий размер пакетных данных достигает оптимального размера, или
2. Достигнуто максимальное время задержки, общий размер или количество больших двоичных объектов, разрешенных `IngestionBatching` политикой

`IngestionBatching`Политику можно задать для баз данных или таблиц. По умолчанию, если политика не определена, Kusto будет использовать значение по умолчанию ( **5 минут** ) в качестве максимального времени задержки, **1000** элементов, общий размер **1 ГБ** для пакетной обработки.

> [!WARNING]
> Влияние установки этой политики на очень небольшое значение — увеличение COGS (стоимость проданных товаров) кластера и снижение производительности. Кроме того, в этом случае уменьшение этого значения может привести к **повышению** эффективности сквозной задержки приема из-за издержек на параллельное управление несколькими процессами приема.

## <a name="additional-resources"></a>Дополнительные ресурсы

* [Справочник по командам политики Инжестионбатчинг](../management/batching-policy.md)
* [Рекомендации по приему — оптимизация для пропускной способности](../api/netfx/kusto-ingest-best-practices.md#optimizing-for-throughput)

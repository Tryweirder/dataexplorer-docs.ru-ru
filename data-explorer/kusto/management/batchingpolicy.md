---
title: Политика Kusto Инжестионбатчинг оптимизирует пакетную обработку обозреватель данных Azure
description: В этой статье описывается политика Инжестионбатчинг в Azure обозреватель данных.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 02/19/2020
ms.openlocfilehash: 8f079fd7deb6e2b1ef81565aaf591ef4a5d0f020
ms.sourcegitcommit: 1faf502280ebda268cdfbeec2e8ef3d582dfc23e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/01/2020
ms.locfileid: "82617754"
---
# <a name="ingestionbatching-policy"></a>Политика Инжестионбатчинг

## <a name="overview"></a>Обзор

В процессе приема Kusto пытается оптимизировать пропускную способность за счет пакетной обработки небольших фрагментов данных, так как они ожидают приема.
Такой тип пакетной обработки сокращает количество ресурсов, потребляемых процессом приема, а также не требует ресурсов после приема для оптимизации небольших сегментов данных, создаваемых непакетированным приемом.

Однако существует недостаток для выполнения пакетной обработки перед приемом, что представляет собой введение в принудительную задержку, так что пришло время от получения полного времени от запроса приема данных до тех пор, пока оно не будет готово.

Чтобы разрешить управление этой скидкой, одна из них может использовать `IngestionBatching` политику.
Эта политика применяется только к приему в очереди и обеспечивает максимальную принудительную задержку, позволяющую выполнять пакетную обработку небольших BLOB-объектов.

## <a name="details"></a>Сведения

Как упоминалось выше, существует оптимальный размер данных для массового приема.
В настоящее время этот размер составляет около 1 ГБ несжатых данных. Прием, который выполняется в больших двоичных объектах, которые содержат гораздо меньший объем данных, чем оптимальный размер, не является оптимальным, и поэтому в очереди приема Kusto будет группировать такие небольшие большие двоичные объекты вместе. Пакетная обработка выполняется до тех пор, пока первое условие не примет значение true:

1. Общий размер пакетных данных достигает оптимального размера, или
2. Достигнуто максимальное время задержки, общий размер или количество больших двоичных объектов, `IngestionBatching` разрешенных политикой

`IngestionBatching` Политику можно задать для баз данных или таблиц. По умолчанию, если политика не определена, Kusto будет использовать значение по умолчанию ( **5 минут** ) в качестве максимального времени задержки, **1000** элементов, общий размер **1 ГБ** для пакетной обработки.

> [!WARNING]
> Пользователям, желающим настроить эту политику, рекомендуется сначала обратиться к команде Kusto Ops. Влияние установки этой политики на очень небольшое значение приводит к увеличению COGS в кластере и снижению производительности. Кроме того, в этом случае уменьшение этого значения может привести к **повышению** эффективности сквозной задержки приема из-за издержек на параллельное управление несколькими процессами приема.

## <a name="additional-resources"></a>Дополнительные ресурсы

* [Справочник по командам политики Инжестионбатчинг](../management/batching-policy.md)
* [Рекомендации по приему — оптимизация для пропускной способности](../api/netfx/kusto-ingest-best-practices.md#optimizing-for-throughput)
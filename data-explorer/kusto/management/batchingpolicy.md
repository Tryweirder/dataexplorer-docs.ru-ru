---
title: Политика ingestionBatching - Azure Data Explorer Документы Майкрософт
description: В этой статье описывается политика IngestionBatching в Azure Data Explorer.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 02/19/2020
ms.openlocfilehash: fa3a4cfd512e3e37ba6b6abf8f8316d6ff12fdec
ms.sourcegitcommit: 47a002b7032a05ef67c4e5e12de7720062645e9e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/15/2020
ms.locfileid: "81522242"
---
# <a name="ingestionbatching-policy"></a>Политика ingestionBatching

## <a name="overview"></a>Обзор

В процессе приема в эксплуатацию Kusto пытается оптимизировать пропускную вылимную пропускную выливку мелких входных данных вместе, когда они ожидают приема.
Такой пакетирование сокращает ресурсы, потребляемые в процессе приема, а также не требует ресурсов после приема для оптимизации небольших осколков данных, производимых в результате не-пакетного приема.

Однако есть оборотная сторона выполнения пакетирования перед проглатыванием, т.е. введение принудительной задержки, так что сквозное время от запроса на проглатывание данных до тех пор, пока он не будет готов к запросу, будет больше.

Чтобы позволить контролировать этот компромисс, можно `IngestionBatching` использовать политику.
Эта политика применяется только к улавливаниям в очередях и обеспечивает максимальную вынужденную задержку при объединении небольших капли.

## <a name="details"></a>Сведения

Как поясняется выше, существует оптимальный размер данных, которые будут посягать оптом.
В настоящее время этот размер составляет около 1 ГБ несжатых данных. Проглатывание, которое делается в капли, которые содержат гораздо меньше данных, чем оптимальный размер является неоптимальным, и поэтому в очереди приема Кусто будет партии таких небольших капли вместе. Пакетирование осуществляется до тех пор, пока первое условие не станет истинным:

1. Общий размер пакетированных данных достигает оптимального размера, или
2. Достигается максимальное время задержки, общий размер `IngestionBatching` или количество капли, разрешенные политикой

Политика `IngestionBatching` может быть установлена на базах данных или таблицах. По умолчанию, если политика не определена, Kusto будет использовать значение по умолчанию **5 минут** в качестве максимального времени задержки, **1000** элементов, общий размер **1G** для пакетирования.

> [!WARNING]
> Клиентам рекомендуется сначала связаться с командой Kusto ops. Воздействие множеству этой политики к очень небольшому значению является увеличение COGS кластера и снижение производительности. Кроме того, в пределе, снижение этого значения может фактически привести к **увеличению** эффективной задержки сквозного приема, из-за накладных расходов на управление несколькими процессами приема параллельно.

## <a name="additional-resources"></a>Дополнительные ресурсы

* [Ссылка на команды политики ingestionBatching](../management/batching-policy.md)
* [Лучшие практики приема - оптимизация пропускной всей вехи](../api/netfx/kusto-ingest-best-practices.md#optimizing-for-throughput)
---
title: Управление журналом - Azure Data Explorer Документы Майкрософт
description: В этой статье описывается управление журналом в Azure Data Explorer.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 08/19/2019
ms.openlocfilehash: bbe5ab4bda42fdfd9382c7e71da85789c13f6987
ms.sourcegitcommit: 47a002b7032a05ef67c4e5e12de7720062645e9e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/15/2020
ms.locfileid: "81520797"
---
# <a name="journal-management"></a>Управление журналом

 `Journal`содержит информацию об операциях метаданных, выполняемых в базе данных Kusto.

Операции метаданных могут быть результатом управления командой, выполняемым пользовательскими или внутренними командами управления, выполняемыми системой (например, размеры падения путем удержания).

**Примечания.**

- Операции метаданных, *adding* которые включают добавление `.ingest` `.append`новых `.move` объемов (например, и `Journal`другие), не будут иметь соответствующие события, показанные в .
- Данные в столбцах набора результатов, а также формат, в котором они представлены, *не* являются договорными, и поэтому зависимость от них *не* рекомендуется.

|Событие        |EventTimestamp     |База данных  |EntityName|ОбновленоEntityName|EntityVersion|EntityContainerName|
|-------------|-------------------|----------|----------|-----------------|-------------|-------------------|
|СОЗДАТЬ ТАБЛИЦУ |2017-01-05 14:25:07|ВнутренняяDb|MyTable1  |MyTable1         |v7.0         |ВнутренняяDb         |
|ПЕРЕИМЕНОВАНИЕ ТАБЛИЦЫ |2017-01-13 10:30:01|ВнутренняяDb|MyTable1  |MyTable2         |v8.0         |ВнутренняяDb         |  

|Исходноелицогосударство|ОбновленоСущностиягосударства                                              |ChangeCommand                                                                                                          |Основной            |
|-------------------|----------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------|---------------------|
|.                  |Имя: MyTable1, Атрибуты: Имя »MyTable1». «col1», Type''I32'|таблице MyTable1 .create (col1:int)                                                                                      |imike@fabrikam.com
|.                  |Свойства db (слишком долго, чтобы отображаться здесь)               |.create база данных TestDB сохраняетсяhttps://imfbkm.blob.core.windows.net/data(яп.https://imfbkm.blob.core.windows.net/md|AAD приложение id'76263cdb-abcd-545644e9c404
|Имя: MyTable1, Атрибуты: Имя »MyTable1». «col1», Type''I32'|Имя: MyTable2, Атрибуты: Имя »MyTable1». «col1», Type''I32'|таблице .переименования MyTable1 на MyTable2|rdmik@fabrikam.com


Событие - название события метаданных.

EventTimestamp - метка времени мероприятия.

База данных - метаданные этой базы данных были изменены после события.

EntityName - имя сущности, операция была выполнена до изменения.

UpdatedEntityName - новое название сущности после изменения.

EntityVersion - новая версия метаданных (db/cluster) после изменения.

EntityContainerName - имя контейнера сущности (т.е.: столбец сущности, контейнерная таблица).

OriginalEntityState - состояние сущности (свойства сущности) до изменения.

ОбновленоEntityState - новое состояние после изменения.

ChangeCommand - выполненная команда управления, которая вызвала изменение метаданных.

Principal - основной (пользователь/приложение), выполняющий команду управления.
                    
## <a name="show-journal"></a>.show журнал

Команда `.show journal` возвращает список изменений метаданных в базах данных/кластере, к доступу пользователя к нему.

**Разрешения**

Каждый (кластерный доступ) может выполнить команду. 

Возврат результатов будет включать в себя: 
1. Все записи в журнале пользователя, исполняющего команду. 
2. Все записи журналов баз данных, к которым пользователь, исполняющий команду, имеют доступ к админ. 
3. Все записи кластерных журналов, если пользователь, исполняющий команду, является кластерным админом. 

## <a name="show-database-databasename-journal"></a>.show *DatabaseName* журнал DatabaseName 

Команда `.show` `database` *DatabaseName* `journal` возвращает журнал для конкретных изменений метаданных базы данных.

**Разрешения**

Каждый (кластерный доступ) может выполнить команду. Возврат результатов будет включать в себя: 
1. Все записи в журнале базы данных *DatabaseName,* если пользователь, исполняющий команду, является админом базы данных в *DatabaseName.* 
2. В противном случае, все записи журнала базы данных *DatabaseName* и пользователя, исполняющего команду. 


---
title: Диагностические сведения — Azure обозреватель данных
description: В этой статье описаны диагностические сведения в Azure обозреватель данных.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 02/13/2020
ms.openlocfilehash: 6c9bfed37ea54e541e55106a505471f04fe94e99
ms.sourcegitcommit: bc09599c282b20b5be8f056c85188c35b66a52e5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "88610565"
---
# <a name="diagnostic-information"></a>Диагностические сведения

Эти команды можно использовать для вывода диагностических сведений о системе.

* [. отобразить кластер](#show-cluster)
* [. показывать диагностику](#show-diagnostics)
* [. показывать емкость](#show-capacity)
* [. Отображение операций](#show-operations)

## <a name="show-cluster"></a>. отобразить кластер

```kusto
.show cluster
```

Возвращает набор, содержащий одну запись для каждого узла, который в данный момент активен в кластере.  

**Результаты** 

|Выходной столбец |Тип |Описание
|---|---|---|
|NodeId|Строка|Определяет узел. Идентификатор узла — это RoleId Azure узла, если кластер развернут в Azure.
|Адрес|Строка |Внутренняя конечная точка, используемая кластером для обмена данными между узлами
|name |Строка |Внутреннее имя узла. Имя включает имя компьютера, имя процесса и идентификатор процесса.
|StartTime |Дата и время |Дата и время (в формате UTC) запуска текущего экземпляра Kusto в узле. Это значение можно использовать для обнаружения недавно перезапуска узла (или Kusto, запущенного на узле)
|IsAdmin |Логическое значение |Если этот узел в настоящее время является "лидером" кластера 
|мачинетоталмемори  |Int64 |Объем ОЗУ узла.
|мачинеаваилаблемемори  |Int64 |Объем ОЗУ, доступный в данный момент для использования на узле.
|ProcessorCount  |Int32 |Количество процессоров на узле.
|енвиронментдескриптион  |строка |Дополнительные сведения о среде узла, сериализованные как JSON. Например, в качестве доменов обновления и сбоя

**Пример**

```kusto
.show cluster
```

NodeID|Адрес|Имя|StartTime|IsAdmin|мачинетоталмемори|мачинеаваилаблемемори|ProcessorCount|енвиронментдескриптион
---|---|---|---|---|---|---|---|---
Kusto. Azure. Svc_IN_1|NET. TCP://100.112.150.30:23107/|Kusto. Azure. Svc_IN_4/RD000D3AB1E9BD/WaWorkerHost/3820|2016-01-15 02:00:22.6522152|Верно|274877435904|247797796864|16|{"Упдатедомаин": 0, "FaultDomain": 0}
Kusto. Azure. Svc_IN_3|NET. TCP://100.112.154.34:23107/|Kusto. Azure. Svc_IN_3/RD000D3AB1E062/WaWorkerHost/2760|2016-01-15 05:52:52.1434683|Неверно|274877435904|258740346880|16|{"Упдатедомаин": 1, "FaultDomain": 1}
Kusto. Azure. Svc_IN_2|NET. TCP://100.112.128.40:23107/|Kusto. Azure. Svc_IN_2/RD000D3AB1E054/WaWorkerHost/3776|2016-01-15 07:17:18.0699790|Неверно|274877435904|244232339456|16|{"Упдатедомаин": 2, "FaultDomain": 2}
Kusto. Azure. Svc_IN_0|NET. TCP://100.112.138.15:23107/|Kusto. Azure. Svc_IN_0/RD000D3AB0D6C6/WaWorkerHost/3208|2016-01-15 09:46:36.9865016|Неверно|274877435904|238414581760|16|{"Упдатедомаин": 3, "FaultDomain": 3}


## <a name="show-diagnostics"></a>. показывать диагностику

```kusto
.show diagnostics
```

Возвращает сведения о состоянии работоспособности кластера Kusto.
 
**Возвращает**

|Выходной параметр |Тип |Описание|
|-----------------|-----|-----------| 
|Работоспособность|Логическое значение|Если кластер исправен или нет
|исскалеаутрекуиред|Логическое значение|Если необходимо увеличить размер кластера, добавив дополнительные вычислительные узлы
|мачинестотал|Int64|Число компьютеров в кластере
|мачинесоффлине|Int64|Число компьютеров, которые в данный момент находятся вне сети
|ноделастрестартедон|Дата и время|Дата и время последнего перезапуска любого узла в кластере
|админластелектедон|Дата и время|Последнее владение датой и временем для роли администратора кластера изменилось
|меморилоадфактор|Double|Объем данных, хранящихся в кластере, относительно максимальной емкости 100,0
|екстентстотал|Int64|Общее число экстентов данных, которые в настоящее время имеются в кластере, для всех баз данных и всех таблиц
|Зарезервировано|Int64|
|Зарезервировано|Int64|
|инстанцестаржетбаседондатакапаЦити|Int64|Число экземпляров, необходимых для приведения КлустердатакапаЦитифактор ниже 80. Это значение допустимо только в том случае, если все компьютеры имеют одинаковый размер
|тоталоригиналдатасизе|Int64|Общий размер изначально полученных данных
|тоталекстентсизе|Int64|Общий размер сохраненных данных после сжатия и индексирования
|IngestionsLoadFactor|Double|Процент использованной емкости приема кластера. Максимальная емкость можно увидеть с помощью `.show capacity` команды
|инжестионсинпрогресс|Int64|Число операций приема, выполняемых в данный момент
|инжестионссукцессрате|Double|Процент операций приема, успешно выполненных за последние 10 минут
|мержесинпрогресс|Int64|Число выполняемых в данный момент операций слияния экстентов
|BuildVersion|Строка|Версия программного обеспечения Kusto, развернутая в кластере
|буилдтиме|Дата и время|Дата и время версии сборки программного обеспечения Kusto.
|ClusterDataCapacityFactor|Double|Процент использования емкости данных кластера. Процентное значение вычисляется как SUM (данные размера экстента)/SUM (размер кэша SSD).
|исдатавармингрекуиред|Логическое значение|Внутренняя: Если необходимо выполнить прогрев запросов кластера, чтобы перенести данные в локальный кэш SSD 
|датавармингластрунон|Дата и время|Последние дата и время, когда в кластере выполнялись горячий данные.
|мержессукцессрате|Double|Процент операций слияния, успешно выполненных за последние 10 минут.
|носеалсиреасон|Строка|Указывает причину, по которой кластер не является работоспособным 
|исаттентионрекуиред|Логическое значение|Если кластеру требуется вмешательство команды в операцию
|аттентионрекуиредреасон|Строка|Указывает причину для кластера, требующего внимания
|ProductVersion|Строка|Указывает сведения о продукте (ветвь, версия и т. д.)
|фаилединжестоператионс|Int64|Число неудачных операций приема за последние 10 минут
|фаиледмержеоператионс|Int64|Число неудачных операций слияния за предыдущий час
|максекстентсинсинглетабле|Int64|Максимальное число экстентов в таблице (Таблевисмаксекстентс)
|таблевисмаксекстентс|Строка|Таблица с максимальным количеством экстентов (Максекстентсинсинглетабле)
|вармекстентсизе|Double|Общий размер экстентов в активном кэше
|нумберофдатабасес|Int32|Число баз данных в кластере

## <a name="show-capacity"></a>. показывать емкость

```kusto
.show capacity
```

Возвращает результаты вычисления для оценочной емкости кластера для каждого ресурса.
 
**Результаты**

|Выходной параметр |Тип |Описание 
|---|---|---
|Ресурс |Строка |Имя ресурса. 
|Итог |Int64 |Общий объем доступных ресурсов типа "ресурс". Например, количество одновременных приемов
|Потреблено |Int64 |Количество ресурсов типа "Resource", потребляемых прямо сейчас
|Осталось |Int64 |Объем оставшихся ресурсов типа "Resource"
 
**Пример**

|Ресурс |Итог |Потреблено |Осталось
|---|---|---|---
|приемы |576 |1 |575

## <a name="show-operations"></a>. Отображение операций

Эта команда возвращает таблицу, содержащую все операции администрирования с момента, когда был выбран новый узел администратора.

|Параметр синтаксиса |Описание|
|---|---| 
|`.show` `operations`              |Возвращает все операции, которые обрабатывает или обрабатывает кластер
|`.show`С идентификатором `operations` *OperationId*|Возвращает состояние операции для указанного идентификатора.
|`.show``operations` `(` *OperationId1* `,` *OperationId2* `,` ...)|Возвращает состояние операций для конкретных идентификаторов

**Результаты**
 
|Выходной параметр |Тип |Описание
|---|---|---
|ID |Строка |Идентификатор операции
|Операция |Строка |Псевдоним команды администратора
|NodeId |Строка |Если команда работает удаленно, например Датаинжестпулл. Идентификатор узла будет содержать идентификатор удаленного узла, на котором выполняется
|стартедон |Дата и время |Дата и время (в формате UTC) начала операции 
|ластупдатедон |Дата и время |Дата и время (в формате UTC) последнего обновления операции. Операция может быть либо шагом внутри операции, либо этапом завершения
|Duration |Дата и время |Интервал времени между Ластупдатеон и Стартедон
|Состояние |Строка |Состояние команды, со значениями "выполняется", "завершено" или "сбой"
|Состояние |Строка |Дополнительная строка справки, содержащая ошибки для неудачных операций
 
**Пример**
 
|ID |Операция |идентификатор узла; |Начато |Последнее обновление |Duration |Состояние |Состояние 
|--|--|--|--|--|--|--|--
|3827def6-0773-4f2a-859e-c02cf395deaf |счемашов | |2015-01-06 08:47:01.0000000 |2015-01-06 08:47:01.0000000 |0001-01-01 00:00:00.0000000 |Завершено | 
|841fafa4-076a-4cba-9300-4836da0d9c75 |датаинжестпулл |Kusto. Azure. Svc_IN_1 |2015-01-06 08:47:02.0000000 |2015-01-06 08:48:19.0000000 |0001-01-01 00:01:17.0000000 |Завершено | 
|e198c519-5263-4629-a158-8d68f7a1022f |оператионсшов | |2015-01-06 08:47:18.0000000 |2015-01-06 08:47:18.0000000 |0001-01-01 00:00:00.0000000 |Завершено |
|a9f287a1-f3e6-4154-ad18-b86438da0929 |екстентсдроп | |2015-01-11 08:41:01.0000000 |0001-01-01 00:00:00.0000000 |0001-01-01 00:00:00.0000000 |InProgress |
|9edb3ecc-f4b4-4738-87e1-648eed2bd998 |датаинжестпулл | |2015-01-10 14:57:41.0000000 |2015-01-10 14:57:41.0000000 |0001-01-01 00:00:00.0000000 |Сбой |Коллекция была изменена. Операция перечисления не может быть выполнена |

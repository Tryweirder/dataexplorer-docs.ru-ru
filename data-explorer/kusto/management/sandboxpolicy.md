---
title: Политика песочницы - Azure Data Explorer Документы Майкрософт
description: В этой статье описывается политика песочницы в Azure Data Explorer.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 03/24/2020
ms.openlocfilehash: 0a59e25c6c38d3189330299af1b19f89357cb456
ms.sourcegitcommit: 47a002b7032a05ef67c4e5e12de7720062645e9e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/15/2020
ms.locfileid: "81520066"
---
# <a name="sandbox-policy"></a>Политика песочницы

## <a name="overview"></a>Обзор

Kusto поддерживает запуск некоторых плагинов в [песочницах,](../concepts/sandboxes.md)где ресурсы, доступные для песочницы, ограничены и контролируются, как в целях безопасности, так и в целях управления ресурсами.

Песочницы работают на узлах службы двигателя Kusto, и некоторые из их ограничений определяются в политике песочницы, где каждый вид песочницы может иметь свою собственную политику песочницы.

Политики песочницы управляются на уровне кластера и влияют на все узлы кластера.

Для изменения политики требуются разрешения [AllDatabasesAdmin.](../management/access-control/role-based-authorization.md)

## <a name="the-policy-object"></a>Объект политики

политика Sandbox имеет следующие свойства:

* **SandboxKind**: определяет вид песочницы `PythonExecution`(например, `RExecution`, ).
* **IsEnabled**: определяет, включены ли песочницы такого рода для запуска на узлах кластера.
* **TargetCountPerNode**: определяет, сколько песочниц такого рода разрешено работать на узлах кластера.
  * Значения могут быть от 1 до двух больше процессоров на узла.
  * Значение по умолчанию — `16`.
* **MaxCpuRatePerSandbox**: определяет максимальную скорость процессора в процентах от всех доступных ядер, которые может использовать одна песочница.
  * Значения могут быть от 1 до 100.
  * Значение по умолчанию — `50`.
* **MaxMemoryMbPerSandbox**: определяет максимальное количество памяти (в мегабайтах) одной песочнице может использоваться.
  * Значения могут быть между 200 и 65536 (64 ГБ).
  * Значение по `20480` умолчанию (20 ГБ).

## <a name="example"></a>Пример

Следующая политика устанавливает различные ограничения для 2 `PythonExecution` различных видов песочниц - и: `RExecution`

```json
[
  {
    "SandboxKind": "PythonExecution",
    "IsEnabled": true,
    "TargetCountPerNode": 4,
    "MaxCpuRatePerSandbox": 55,
    "MaxMemoryMbPerSandbox": 65536
  },
  {
    "SandboxKind": "RExecution",
    "IsEnabled": true,
    "TargetCountPerNode": 2,
    "MaxCpuRatePerSandbox": 50,
    "MaxMemoryMbPerSandbox": 10240
  }
]
```

## <a name="notes"></a>Примечания

* Изменения в политике песочницы применяются к санбоксам, созданным в момент нанесения изменения.
  * Песочницы, предварительно выделенные до изменения политики, будут работать в соответствии с предыдущими ограничениями политики до тех пор, пока они не будут использованы в качестве части запроса.
* До вступления в силу изменений в политике может произойть задержка до 5 минут, поскольку кластерные узлы периодически опрашиваются для изменения политики.

## <a name="next-steps"></a>Следующие шаги

Используйте [команды управления политикой песочницы](../management/sandbox-policy.md) для управления политикой кластера в песочнице.
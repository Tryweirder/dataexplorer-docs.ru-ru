---
title: . объединение экстентов — Azure обозреватель данных
description: В этой статье описывается команда merge экстенты в Azure обозреватель данных.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 07/02/2020
ms.openlocfilehash: 6b633358713b0ff48d14fc9c5ca2a907bad0afab
ms.sourcegitcommit: d6f35df833d5b4f2829a8924fffac1d0b49ce1c2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/07/2020
ms.locfileid: "86060763"
---
# <a name="merge-extents"></a>.merge extents

Эта команда выполняет слияние экстентов, указанных идентификаторами, в указанной таблице. 

> [!NOTE]
> Сегменты данных называются **экстентами** в Kusto, а все команды используют "экстент" или "экстенты" в качестве синонима.
> Дополнительные сведения о экстентах см. в статье [Общие сведения о экстентах (сегментах данных)](extents-overview.md).

## <a name="syntax"></a>Синтаксис

`.merge``[async | dryrun]` *TableName* `(` *GUID1* [ `,` *GUID2* ...] `)``[with(rebuild=true)]`

Существует два типа операций слияния:
* *Слияние* с перестроением индексов
* *Перестроение* , полностью воспринимающее данные

Доступны три варианта:
* `async`: Асинхронное выполнение команды. 
    * Возвращается идентификатор операции (GUID).
    * Состояние операции можно отслеживать. Используйте идентификатор операции с `.show operations <operation ID>` командой.
* `dryrun`: В операции будут перечислены только те экстенты, которые должны быть объединены, но фактически не будут объединены.
* `with(rebuild=true)`: Экстенты будут перестроены и повторно приняты данные, а не объединены. Индексы будут перестроены.

## <a name="return-output"></a>Возврат выходных данных

Выходной параметр |Тип |Описание
---|---|---
оригиналекстентид |строка |Уникальный идентификатор (GUID) для исходного экстента в исходной таблице, который был объединен с целевым экстентом.
ресултекстентид |строка |Уникальный идентификатор (GUID) для экстента, созданного из экстентов источника. При сбое: "Failed" или "Покинутая".
Duration |Интервал времени |Период времени, затраченный на завершение операции слияния.

## <a name="examples"></a>Примеры

### <a name="rebuild-two-specific-extents-in-mytable-asynchronously"></a>Асинхронная перестроение двух конкретных экстентов в `MyTable` .

```kusto
.merge async MyTable (e133f050-a1e2-4dad-8552-1f5cf47cab69, 0d96ab2d-9dd2-4d2c-a45e-b24c65aa6687) with(rebuild=true)
```

### <a name="merge-two-specific-extents-in-mytable-synchronously"></a>Объединение двух конкретных экстентов в `MyTable` синхронно.

```kusto
.merge MyTable (12345050-a1e2-4dad-8552-1f5cf47cab69, 98765b2d-9dd2-4d2c-a45e-b24c65aa6687)
```

## <a name="notes"></a>Примечания

* В общем случае `.merge` команды не следует запускать вручную. Команды постоянно и автоматически выполняются в фоновом режиме в соответствии с [политиками слияния](mergepolicy.md) для таблиц и баз данных.  
  * Дополнительные сведения о критериях объединения нескольких экстентов в один см. в разделе [Политика слияния](mergepolicy.md).
* `.merge`операции имеют возможное конечное состояние `Abandoned` , которое можно увидеть при запуске `.show operations` с идентификатором операции. Это состояние предполагает, что исходные экстенты не были объединены, так как некоторые исходные экстенты больше не существуют в исходной таблице. `Abandoned`Состояние происходит в следующих случаях:
   * Исходные экстенты были удалены в процессе хранения таблицы.
   * Исходные экстенты были перемещены в другую таблицу.
   * Исходная таблица полностью удалена или переименована.

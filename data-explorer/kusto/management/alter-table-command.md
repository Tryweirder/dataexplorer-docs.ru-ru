---
title: таблица .alter и таблица .alter-merge - Azure Data Explorer Документы Майкрософт
description: В этой статье описана таблица .alter и таблица .alter-merge в Azure Data Explorer.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 03/17/2020
ms.openlocfilehash: 516c5c7b85f7c310188fd11ae24e52cb23423143
ms.sourcegitcommit: 47a002b7032a05ef67c4e5e12de7720062645e9e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/15/2020
ms.locfileid: "81522378"
---
# <a name="alter-table-and-alter-merge-table"></a>таблица .alter и таблица .alter-merge

Команда `.alter table` устанавливает новую схему столбца, документии и папку к существующей таблице, перекрывая существующую схему столбцов, доктрину и папку. Данные в существующих столбцах, которые "сохраняются" командой, сохраняются (так что эта команда может быть использована, например, для переупорядочения столбцов таблицы).

Команда `.alter-merge table` добавляет новые столбцы, docstring и папку в существующую таблицу.
Данные в существующих столбцах сохраняются.

Обе команды должны работать в контексте определенной базы данных, которая прививает имя таблицы.

Требуется [разрешение на админ таблицы.](../management/access-control/role-based-authorization.md)

**Синтаксис**

`.alter``table` *TableName* *(columnName*:*columnType*, ...)  `with` `(`Документация`docstring` `folder` *Documentation* `)`- `=` *FolderName*FolderName`,` `=`

`.alter-merge``table` *TableName* *(columnName*:*columnType*, ...)  `with` `(`Документация`docstring` `folder` *Documentation* `)`- `=` *FolderName*FolderName`,` `=`

Укажите столбцы, которые должна иметь таблица после успешного завершения. 

> [!WARNING]
> Неправильное `.alter` использование команды может привести к потере данных.
> Внимательно прочитайте `.alter` различия `.alter-merge` между и ниже.

`.alter-merge`:

 * Столбцы, которые не существуют и которые вы указываете, добавляются в конце существующей схемы.
 * Если пройденная схема не содержит некоторых столбцов таблицы, они не будут удалены.
 * Если вы указали существующий столбец с другим типом, команда выйдет из строя.

`.alter`только (не `.alter-merge`):

 * Таблица будет иметь точно такие же столбцы, в том же порядке, как указано.
 * Существующие столбцы, не указанные в команде, `.drop column`будут удалены (как в) и данные в них будут потеряны.
 * Изменение типа столбца не поддерживается при изменении таблицы. Вместо этого используйте команду [столбца .alter.](alter-column.md)

> [!TIP] 
> Используйте `.show table [TableName] cslschema` для получения существующей схемы столбца, прежде чем изменить ее. 

Следующие команды применяются к обеим командам:

1. Существующие данные физически не изменяются этими командами. Данные в удаленных столбцах игнорируются. Данные в новых столбцах считаются недействительными.
1. В зависимости от того, как настроен кластер, проглатывание данных может изменить схему столбца таблицы даже без взаимодействия с пользователем. Поэтому при внесении изменений в схему столбца таблицы убедитесь, что проглатывание не будет добавлять необходимые столбцы, которые команда затем удалит.

> [!WARNING]
> Процессы приема данных в таблицу, изменяющие схему столбца таблицы, происходящие параллельно с `.alter table` командой, могут выполняться агностиками в порядке столбцов таблицы. Существует также риск того, что данные будут попаданы в неправильные столбцы. Предотвратите это, прекратив проглатывание во время таких команд или убедившись, что такие операции по проглатываниям всегда используют объект отображения.

**Примеры**

```
.alter table MyTable (ColumnX:string, ColumnY:int) 
.alter table MyTable (ColumnX:string, ColumnY:int) with (docstring = "Some documentation", folder = "Folder1")
.alter-merge table MyTable (ColumnX:string, ColumnY:int) 
.alter-merge table MyTable (ColumnX:string, ColumnY:int) with (docstring = "Some documentation", folder = "Folder1")
```
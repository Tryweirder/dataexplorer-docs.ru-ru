---
title: подключаемый модуль diffpatterns_text — Azure обозреватель данных
description: В этой статье описывается подключаемый модуль diffpatterns_text в Azure обозреватель данных.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 02/13/2020
ms.openlocfilehash: b0a71f9db9062d83f55ebf9db1efabb6d86f9786
ms.sourcegitcommit: 3dfaaa5567f8a5598702d52e4aa787d4249824d4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2020
ms.locfileid: "87803290"
---
# <a name="diffpatterns_text-plugin"></a>Подключаемый модуль diffpatterns_text

Сравнивает два набора данных строковых значений и находит текстовые шаблоны, характеризующие различия между двумя наборами данных.

```kusto
T | evaluate diffpatterns_text(TextColumn, BooleanCondition)
```

Компонент `diffpatterns_text` возвращает набор текстовых шаблонов, которые захватывают различные фрагменты данных в двух наборах (т. е. шаблон захватывает большой процент строк, когда условие имеет значение `true` , и низкий процент строк, когда условие имеет значение `false` ). Шаблоны создаются на основе последовательных токенов (разделенных пробелами) с маркером из текстового столбца или, `*` представляющего подстановочный знак. В результатах каждый шаблон соответствует строке.

## <a name="syntax"></a>Синтаксис

`T | evaluate diffpatterns_text(`Текстколумн, Булеанкондитион [, Минтокенс, порог, Макстокенс]`)` 

## <a name="arguments"></a>Аргументы

### <a name="required-arguments"></a>Обязательные аргументы

* Текстколумн — *column_name*

    Анализируемый текстовый столбец должен иметь строковый тип.
    
* Булеанкондитион — *логическое выражение*

    Определяет способ создания двух подмножеств записей для сравнения с входной таблицей. Алгоритм разбивает запрос на два набора данных, "true" и "false" в соответствии с условием, а затем анализирует (текст) различия между ними. 

### <a name="optional-arguments"></a>Необязательные аргументы

Остальные аргументы необязательны, но они должны быть упорядочены, как показано ниже. 

* Минтокенс-0 < *int* < 200 [по умолчанию: 1]

    Задает минимальное число маркеров без подстановочных знаков на шаблон результатов.

* Пороговое значение — 0,015 < *double* < 1 [по умолчанию: 0,05]

    Задает минимальную разницу в шаблоне (соотношение) между двумя наборами (см. [diffpatterns](diffpatternsplugin.md)).

* Макстокенс-0 < *int* [по умолчанию: 20]

    Задает максимальное число токенов (от начала) для каждого шаблона результата, при котором Задание нижнего предела сокращает время выполнения запроса.

## <a name="returns"></a>Возвращаемое значение

Результат diffpatterns_text возвращает следующие столбцы:

* Count_of_True: количество строк, соответствующих шаблону, если условие имеет значение `true` .
* Count_of_False: количество строк, соответствующих шаблону, если условие имеет значение `false` .
* Percent_of_True: процент строк, соответствующих шаблону из строк, если условие имеет значение `true` .
* Percent_of_False: процент строк, соответствующих шаблону из строк, если условие имеет значение `false` .
* Pattern: шаблон текста, содержащий маркеры из текстовой строки и `*` символ "" для подстановочных знаков. 

> [!NOTE]
> Шаблоны не обязательно отличаются и могут не обеспечивать полный охват набора данных. Шаблоны могут быть перекрывающимися, а некоторые строки могут не соответствовать ни одному из шаблонов.

## <a name="example"></a>Пример

<!-- csl: https://help.kusto.windows.net:443/Samples -->
```kusto
StormEvents     
| where EventNarrative != "" and monthofyear(StartTime) > 1 and monthofyear(StartTime) < 9
| where EventType == "Drought" or EventType == "Extreme Cold/Wind Chill"
| evaluate diffpatterns_text(EpisodeNarrative, EventType == "Extreme Cold/Wind Chill", 2)
```

|Count_of_True|Count_of_False|Percent_of_True|Percent_of_False|Модель|
|---|---|---|---|---|
|11|0|6,29|0|Подойдет к концу смены Северо-Западного в * спящий режим * траугх, в сновфалл довнвинд|
|9|0|5,14|0|В канадском высоком замедленном нажиме * * регион * были получены холодное температуры с февраля * 2006. Длительность * замораживание температур|
|0|34|0|6,24|* * * * * * * * * * * * * * * * * * * Западная Теннесси,|
|0|42|0|7,71|* * * * * * вызывается * * * * * * * * в западных Колорадо. *|
|0|45|0|8,26|* * ниже обычного *|
|0|110|0|20,18|Ниже обычного *|

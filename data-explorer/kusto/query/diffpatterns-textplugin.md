---
title: diffpatterns_text плагин - Azure Data Explorer (ru) Документы Майкрософт
description: В этой статье описывается diffpatterns_text плагин в Azure Data Explorer.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 02/13/2020
ms.openlocfilehash: 58f059e2346dfb3f15bff295126a14a97f10f317
ms.sourcegitcommit: 47a002b7032a05ef67c4e5e12de7720062645e9e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/15/2020
ms.locfileid: "81516020"
---
# <a name="diffpatterns_text-plugin"></a>diffpatterns_text плагин

Сравнивает два набора данных значений строки и находит текстовые шаблоны, характеризующие различия между двумя наборами данных.

```kusto
T | evaluate diffpatterns_text(TextColumn, BooleanCondition)
```

Возвращает `diffpatterns_text` набор текстовых шаблонов, которые захватывают различные части данных в двух наборах (т.е. шаблон захвата `true` большой процент строк, когда `false`состояние и низкий процент строк, когда условие). Шаблоны строятся из последовательных токенов (разделенных белым пространством), с `*` маркером из столбца текста или представляющим подстановочный знак. В результатах каждый шаблон соответствует строке.

**Синтаксис**

`T | evaluate diffpatterns_text(`TextColumn, BooleanCondition , MinTokens, Порог , MaxTokens`)` 

**Обязательные аргументы**

* TextColumn - *column_name*

    Столбец текста для анализа должен быть строки типа.
    
* BooleanCondition - *Булеан выражение*

    Определяет, как создать два подмножества записей для сравнения с таблицей ввода. Алгоритм разделяет запрос на два набора данных, "Правда" и "Ложь" в зависимости от условия, а затем анализирует (текст) различия между ними. 

**Дополнительные аргументы**

Остальные аргументы необязательны, но они должны быть упорядочены, как показано ниже. 

* MinTokens - 0 < *int* < 200 (по умолчанию: 1)

    Устанавливает минимальное количество токенов, не поднишающих знак, на шаблон результата.

* Порог - 0,015 < *двойной* < 1 (по умолчанию: 0,05)

    Устанавливает минимальную разницу (коэффициента) между двумя [наборами (см. диффпаттерны).](diffpatternsplugin.md)

* MaxTokens - 0 < *int* (по умолчанию: 20)

    Устанавливает максимальное количество токенов (с самого начала) на шаблон результата, с указанием нижнего предела уменьшает время выполнения запроса.

**Возвращает**

Результат diffpatterns_text возвращает следующие столбцы:

* Count_of_True: количество строк, соответствующих шаблону, `true`когда условие .
* Count_of_False: количество строк, соответствующих шаблону, `false`когда условие находится.
* Percent_of_True: Процент строк, соответствующих шаблону из строк, `true`когда состояние находится.
* Percent_of_False: Процент строк, соответствующих шаблону из строк, `false`когда состояние находится.
* Шаблон: текстовый шаблон, содержащий маркеры из`*`строки текста и ' для подстановочных знаков. 

> [!NOTE]
> Шаблоны не обязательно отличаются друг от друга и могут не обеспечить полного охвата набора данных. Шаблоны могут быть перекрывающимися, и некоторые строки могут не совпадать ни с одним шаблоном.

**Пример**

```kusto
StormEvents     
| where EventNarrative != "" and monthofyear(StartTime) > 1 and monthofyear(StartTime) < 9
| where EventType == "Drought" or EventType == "Extreme Cold/Wind Chill"
| evaluate diffpatterns_text(EpisodeNarrative, EventType == "Extreme Cold/Wind Chill", 2)
```
|Count_of_True|Count_of_False|Percent_of_True|Percent_of_False|Модель|
|---|---|---|---|---|
|11|0|6.29|0|Ветры смещаются на северо-запад в - в результате - поверхностное корыто принесло сильный эффект озера, поветренный|
|9|0|5.14|0|Канадский высокое давление поселились и региона - производится самые холодные температуры с февраля 2006 года. Длительность и замораживание температуры|
|0|34|0|6.24|А к в Западному Теннесси, в Западном Теннесси, и к.|
|0|42|0|7.71|В западном Колорадо. *|
|0|45|0|8.26|Ниже нормы|
|0|110|0|20.18|Ниже нормы|


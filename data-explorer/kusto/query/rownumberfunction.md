---
title: row_number () — Azure обозреватель данных | Документация Майкрософт
description: В этой статье описывается row_number () в Azure обозреватель данных.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: alexans
ms.service: data-explorer
ms.topic: reference
ms.date: 02/13/2020
ms.openlocfilehash: 457e9445aa113e76052b9c4d96019352215d08f9
ms.sourcegitcommit: 608539af6ab511aa11d82c17b782641340fc8974
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/20/2020
ms.locfileid: "92242796"
---
# <a name="row_number"></a>row_number()

Возвращает индекс текущей строки в [сериализованном наборе строк](./windowsfunctions.md#serialized-row-set).
Индекс строки начинается по умолчанию в `1` для первой строки и увеличивается на единицу `1` для каждой дополнительной строки.
При необходимости индекс строки может начинаться с значения, отличного от `1` .
Кроме того, индекс строки может быть сброшен в соответствии с указанным предикатом.

## <a name="syntax"></a>Синтаксис

`row_number``(`[*Стартингиндекс* [ `,` *перезапуск*]]`)`

* *Стартингиндекс* — это константное выражение типа `long` , указывающее значение индекса строки для начала (или для перезапуска в). Значение по умолчанию: `1`.
* *Restart* является необязательным аргументом типа `bool` , который указывает, когда нумерация перезапускается на значение *стартингиндекс* . Если не указано, используется значение по умолчанию `false` .

## <a name="returns"></a>Результаты

Функция возвращает индекс строки текущей строки в виде значения типа `long` .

## <a name="examples"></a>Примеры

В следующем примере возвращается таблица с двумя столбцами, первым столбцом ( `a` ) с числами из `10` вниз `1` и вторым столбцом ( `rn` ) с числами от `1` до `10` :

```kusto
range a from 1 to 10 step 1
| sort by a desc
| extend rn=row_number()
```

Следующий пример аналогичен приведенному выше, а только второй столбец ( `rn` ) начинается в `7` :

```kusto
range a from 1 to 10 step 1
| sort by a desc
| extend rn=row_number(7)
```

В последнем примере показано, как можно секционировать данные и нумеровать строки в каждой секции. Здесь мы секционированы данные по следующим параметрам `Airport` :

```kusto
datatable (Airport:string, Airline:string, Departures:long)
[
  "TLV", "LH", 1,
  "TLV", "LY", 100,
  "SEA", "LH", 1,
  "SEA", "BA", 2,
  "SEA", "LY", 0
]
| sort by Airport asc, Departures desc
| extend Rank=row_number(1, prev(Airport) != Airport)
```

Выполнение этого запроса приводит к получению следующего результата:

Территории  | Авиаперевозки  | Отправленные  | Ранг
---------|----------|-------------|------
SEA      | BA       | 2           | 1
SEA      | LH       | 1           | 2
SEA      | LY       | 0           | 3
TLV      | LY       | 100         | 1
TLV      | LH       | 1           | 2
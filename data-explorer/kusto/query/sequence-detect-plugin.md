---
title: sequence_detect плагин - Azure Data Explorer (ru) Документы Майкрософт
description: В этой статье описывается sequence_detect плагин в Azure Data Explorer.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 02/13/2020
ms.openlocfilehash: afe4b41cc9bf3e81389edfb1fac76472772fa8f6
ms.sourcegitcommit: 47a002b7032a05ef67c4e5e12de7720062645e9e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/15/2020
ms.locfileid: "81509186"
---
# <a name="sequence_detect-plugin"></a>sequence_detect плагин

Обнаруживает возникновения последовательности на основе предоставленных предикатов.

```kusto
T | evaluate sequence_detect(datetime_column, 10m, 1h, e1 = (Col1 == 'Val'), e2 = (Col2 == 'Val2'), Dim1, Dim2)
```

**Синтаксис**

*T* `| evaluate` `,` `,` `,` `,` `,` `,` *TimelineColumn* `,` *MaxSequenceStepWindow* *Dim2* *Dim1* *MaxSequenceSpan* *Expr1* *Expr2* ХронологияКолонка MaxSequenceStepWindow MaxSequenceSpan Expr1 Expr2 ..., Dim1 Dim2 ... `sequence_detect` `(``)`

**Аргументы**

* *T*: Входное табеляцивское выражение.
* *TimelineColumn*: ссылка столбца, представляющая временную шкалу, должна присутствовать в выражении источника
* *MaxSequenceStepWindow:* скалирование постоянное значение максимальнодопустимого промежуток времени между 2 последовательными шагами в последовательности
* *MaxSequenceSpan*: скалирование постоянное значение максимального диапазона для последовательности, чтобы завершить все шаги
* *Expr1*, *Expr2*, ...: boolean предикатные выражения, определяющие шаги последовательности
* *Dim1*, *Dim2*, ...: выражения измерения, которые используются для корреляции последовательностей

**Возвращает**

Возвращает одну таблицу, где каждая строка в таблице представляет одну последовательность:

* *Dim1*, *Dim2*, ...: размер столбцов, которые были использованы для корреляции последовательностей.
* *Expr1*_*TimelineColumn*, *Expr2*_*TimelineColumn*, ...: Столбы с значениями времени, представляющие временную шкалу каждого шага последовательности.
* *Продолжительность*: общее временное окно последовательности

**Примеры**

### <a name="exploring-storm-events"></a>Изучение штормовых событий 

Следующий запрос выглядит на столе StormEvents (статистика погоды за 2007 год) и показывает случаи, когда последовательность "Чрезмерное тепло" последовало "Wildfire" в течение 5 дней.

```kusto
StormEvents
| evaluate sequence_detect(
        StartTime,
        5d,  // step max-time
        5d,  // sequence max-time
        heat=(EventType == "Excessive Heat"), 
        wildfire=(EventType == 'Wildfire'), 
        State)
```

|Состояние|heat_StartTime|wildfire_StartTime|Duration|
|---|---|---|---|
|Калифорния|2007-05-08 00:00:00.0000000|2007-05-08 16:02:00.0000000|16:02:00|
|Калифорния|2007-05-08 00:00:00.0000000|2007-05-10 11:30:00.0000000|2.11:30:00|
|Калифорния|2007-07-04 09:00:00.0000000|2007-07-05 23:01:00.0000000|1.14:01:00|
|САУТ-ДАКОТА|2007-07-23 12:00:00.0000000|2007-07-27 09:00:00.0000000|3.21:00:00|
|Техас|2007-08-10 08:00:00.0000000|2007-08-11 13:56:00.0000000|1.05:56:00|
|Калифорния|2007-08-31 08:00:00.0000000|2007-09-01 11:28:00.0000000|1.03:28:00|
|Калифорния|2007-08-31 08:00:00.0000000|2007-09-02 13:30:00.0000000|2.05:30:00|
|Калифорния|2007-09-02 12:00:00.0000000|2007-09-02 13:30:00.0000000|01:30:00|
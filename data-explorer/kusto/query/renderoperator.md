---
title: Оператор render — Azure Data Explorer
description: Узнайте, как использовать оператор render в Azure Data Explorer.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: alexans
ms.service: data-explorer
ms.topic: reference
ms.date: 12/08/2020
ms.localizationpriority: high
zone_pivot_group_filename: data-explorer/zone-pivot-groups.json
zone_pivot_groups: kql-flavors
ms.openlocfilehash: 8370e69914b2bc5e141321a6bc6722bba6f1fd4d
ms.sourcegitcommit: 79d923d7b7e8370726974e67a984183905f323ff
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/08/2020
ms.locfileid: "96868609"
---
# <a name="render-operator"></a>Оператор render

Указывает агенту пользователя отображать результаты запроса определенным образом.

```kusto
range x from 0.0 to 2*pi() step 0.01 | extend y=sin(x) | render linechart
```

> [!NOTE]
> * Оператор render должен быть последним оператором в запросе и использоваться только с запросами, которые возвращают один результат в виде потока табличных данных.
> * Оператор render не изменяет данные. Он вставляет заметку (Visualization) в расширенные свойства результата. Такая заметка содержит сведения, предоставленные оператором в запросе.
> * Интерпретация данных визуализации выполняется агентом пользователя. Разные агенты (например, Kusto.Explorer, Kusto.WebExplorer) могут поддерживать разные визуализации.

## <a name="syntax"></a>Синтаксис

*T* `|` `render` *Visualization* [`with` `(` *PropertyName* `=` *PropertyValue* [`,` ...] `)`]

Где:

* *Visualization* указывает тип используемой визуализации. Поддерживаются такие значения:

::: zone pivot="azuredataexplorer"

|*Визуализация*     |Описание:|
|--------------------|-|
| `anomalychart`     | Эквивалентно timechart, но [выделяет аномалии](./samples.md#get-more-from-your-data-by-using-kusto-with-machine-learning) с помощью функции [series_decompose_anomalies](./series-decompose-anomaliesfunction.md). |
| `areachart`        | Диаграмма с областями. Первый столбец (должен быть числовым столбцом) — это ось X. Другие числовые столбцы представляют оси Y. |
| `barchart`         | Первый столбец — это ось X. Может включать текст, дату и время или числа. Другие столбцы являются числовыми и отображаются в виде горизонтальных полос.|
| `card`             | Первая запись результата обрабатывается как набор скалярных значений и отображается как карточка. |
| `columnchart`      | Аналогично `barchart`, но с вертикальными полосами.|
| `ladderchart`      | Последние два столбца — это ось X, другие столбцы представляют оси Y.|
| `linechart`        | линейный график. Первый столбец (должен быть числовым столбцом) — это ось X. Другие числовые столбцы представляют оси Y. |
| `piechart`         | первый столбец — это ось цвета, второй столбец имеет тип numeric. |
| `pivotchart`       | Отображает сводную таблицу и диаграмму. Пользователь может интерактивно выбирать данные, столбцы, строки и разные типы диаграмм. |
| `scatterchart`     | Граф точек. Первый столбец (должен быть числовым столбцом) — это ось X. Другие числовые столбцы представляют оси Y. |
| `stackedareachart` | Граф с областями с накоплением. Первый столбец (должен быть числовым столбцом) — это ось X. Другие числовые столбцы представляют оси Y. |
| `table`            | По умолчанию — результаты отображаются в виде таблицы.|
| `timechart`        | линейный график. Первый столбец — это ось X с типом данных datetime. Другие (числовые столбцы) представляют оси Y. Существует один строковый столбец, значения которого используются для группирования числовых столбцов и создания разных строк в диаграмме (последующие строковые столбцы игнорируются). |
| `timepivot`        | Интерактивная навигация по временной шкале событий (сведения об оси времени).|

::: zone-end

::: zone pivot="azuremonitor"

|*Визуализация*     |Описание:|
|--------------------|-|
| `areachart`        | Диаграмма с областями. Первый столбец (должен быть числовым столбцом) — это ось X. Другие числовые столбцы представляют оси Y. |
| `barchart`         | Первый столбец — это ось X. Может включать текст, дату и время или числа. Другие столбцы являются числовыми и отображаются в виде горизонтальных полос.|
| `columnchart`      | Аналогично `barchart`, но с вертикальными полосами.|
| `piechart`         | первый столбец — это ось цвета, второй столбец имеет тип numeric. |
| `scatterchart`     | Граф точек. Первый столбец (должен быть числовым столбцом) — это ось X. Другие числовые столбцы представляют оси Y. |
| `table`            | По умолчанию — результаты отображаются в виде таблицы.|
| `timechart`        | линейный график. Первый столбец — это ось X с типом данных datetime. Другие (числовые столбцы) представляют оси Y. Есть один строковый столбец, значения которого используются для группирования числовых столбцов и создания разных строк в диаграмме (последующие строковые столбцы игнорируются).|

::: zone-end

* *PropertyName*/*PropertyValue* включают дополнительные сведения, которые используются при рендеринге.
  Все свойства являются необязательными. Поддерживаются следующие свойства:

::: zone pivot="azuredataexplorer"

|*PropertyName*|*PropertyValue*                                                                   |
|--------------|----------------------------------------------------------------------------------|
|`accumulate`  |Указывает, добавляется ли значение каждой меры ко всем предшествующим (`true` или `false`).|
|`kind`        |Уточняет тип визуализации. См. ниже.                         |
|`legend`      |Указывает, следует ли отображать условные обозначения (`visible` или `hidden`).                       |
|`series`      |Разделенный запятыми список столбцов — его объединенные значения отдельных записей определяют ряд, к которому принадлежит запись.|
|`ymin`        |Минимальное значение, отображаемое на оси Y.                                      |
|`ymax`        |Максимальное значение, отображаемое на оси Y.                                      |
|`title`       |Заголовок визуализации (типа `string`).                                |
|`xaxis`       |Способ масштабирования оси X (`linear` или `log`).                                      |
|`xcolumn`     |Какой столбец в результате используется для оси X.                                |
|`xtitle`      |Заголовок оси X (типа `string`).                                       |
|`yaxis`       |Способ масштабирования оси Y (`linear` или `log`).                                      |
|`ycolumns`    |Разделенный запятыми список столбцов, состоящий из значений, заданных для каждого значения столбца X.|
|`ysplit`      |Способ разделения визуализации на несколько визуализаций. См. ниже.                               |
|`ytitle`      |Заголовок оси Y (типа `string`).                                       |
|`anomalycolumns`|Свойство применимо только к `anomalychart`. Разделенный запятыми список столбцов, которые будут обрабатываться как ряд аномалий и отображаться в виде точек на диаграмме.|

::: zone-end

::: zone pivot="azuremonitor"

|*PropertyName*|*PropertyValue*                                                                   |
|--------------|----------------------------------------------------------------------------------|
|`kind`        |Уточняет тип визуализации. См. ниже.                         |
|`series`      |Разделенный запятыми список столбцов — его объединенные значения отдельных записей определяют ряд, к которому принадлежит запись.|
|`title`       |Заголовок визуализации (типа `string`).                                |
|`yaxis`       |Способ масштабирования оси Y (`linear` или `log`).                                      |

::: zone-end

Некоторые визуализации можно уточнить, указав свойство `kind`.
А именно:

|*Визуализация*|`kind`             |Описание:                        |
|---------------|-------------------|-----------------------------------|
|`areachart`    |`default`          |Каждая область отображается отдельно.     |
|               |`unstacked`        |Эквивалентно `default`.                 |
|               |`stacked`          |Группирует области справа.        |
|               |`stacked100`       |Группирует области справа и растягивает каждую до ширины других.|
|`barchart`     |`default`          |Каждая панель отображается отдельно.      |
|               |`unstacked`        |Эквивалентно `default`.                 |
|               |`stacked`          |Группирует панели.                      |
|               |`stacked100`       |Группирует панели и растягивает каждую до ширины других.|
|`columnchart`  |`default`          |Каждый столбец отображается отдельно.   |
|               |`unstacked`        |Эквивалентно `default`.                 |
|               |`stacked`          |Группирует столбцы поверх друг друга.|
|               |`stacked100`       |Группирует столбцы и растягивает каждый до высоты других.|
|`scatterchart` |`map`              |Ожидаемые столбцы — это [Longitude, Latitude] или точка GeoJSON. Столбец ряда является необязательным.|
|`piechart`     |`map`              |Ожидаемые столбцы — это [Longitude, Latitude] или точка GeoJSON, ось цвета и числовые значения. Поддерживается в Kusto Explorer для настольных компьютеров.|

::: zone pivot="azuredataexplorer"

Некоторые визуализации поддерживают разделение на несколько значений по оси Y:

|`ysplit`  |Описание:                                                       |
|----------|------------------------------------------------------------------|
|`none`    |Для всех данных ряда отображается отдельная ось Y. (по умолчанию)       |
|`axes`    |Отображается одна диаграмма с несколькими осями Y (по одной на ряд).|
|`panels`  |Отображается одна диаграмма для каждого значения `ycolumn` (до некоторого предела).|

> [!NOTE]
> Модель данных оператора render воспринимает табличные данные так, как если бы они включали столбцы трех типов:
>
> * Столбец оси X (указывается свойством `xcolumn`).
> * Столбцы рядов (любое число столбцов, определяемое свойством `series`). Для каждой записи объединенные значения таких столбцов определяют один ряд, а диаграмма может иметь столько рядов, сколько существует отдельных объединенных значений.
> * Столбцы оси Y (любое число столбцов, определяемое свойством `ycolumns`).
  Для каждой записи ряд содержит столько измерений (точки на диаграмме), сколько есть столбцов на оси Y.

> [!TIP]
> 
> * Чтобы ограничить объем отображаемых данных, используйте `where`, `summarize` и `top`.
> * Отсортируйте данные, чтобы определить порядок отображения на оси X.
> * Агенты пользователя могут самостоятельно задавать значения свойств, не указанных в запросе. В частности, наличие "неинтересных" столбцов в схеме результата может привести к неправильному подбору значений. В таких случаях старайтесь удалять такие столбцы. 

## <a name="example"></a>Пример

<!-- csl: https://help.kusto.windows.net/Samples -->
```kusto
range x from -2 to 2 step 0.1
| extend sin = sin(x), cos = cos(x)
| extend x_sign = iif(x > 0, "x_pos", "x_neg")
| extend sum_sign = iif(sin + cos > 0, "sum_pos", "sum_neg")
| render linechart with  (ycolumns = sin, cos, series = x_sign, sum_sign)
```

[Примеры рендеринга в руководстве](./tutorial.md#displaychartortable)

[Обнаружение аномалий](./samples.md#get-more-from-your-data-by-using-kusto-with-machine-learning)

::: zone-end

::: zone pivot="azuremonitor"

> [!NOTE]
> Модель данных оператора render воспринимает табличные данные так, как если бы они включали столбцы трех типов:
>
> * Столбец оси X (указывается свойством `xcolumn`).
> * Столбцы рядов (любое число столбцов, определяемое свойством `series`).
> * Столбцы оси Y (любое число столбцов, определяемое свойством `ycolumns`).
  Для каждой записи ряд содержит столько измерений (точки на диаграмме), сколько есть столбцов на оси Y.

> [!TIP]
> 
> * Чтобы ограничить объем отображаемых данных, используйте `where`, `summarize` и `top`.
> * Отсортируйте данные, чтобы определить порядок отображения на оси X.
> * Агенты пользователя могут самостоятельно задавать значения свойств, не указанных в запросе. В частности, наличие "неинтересных" столбцов в схеме результата может привести к неправильному подбору значений. В таких случаях старайтесь удалять такие столбцы. 

## <a name="example"></a>Пример

<!-- csl: https://help.kusto.windows.net/Samples -->
```kusto
InsightsMetrics
| where Computer == "DC00.NA.contosohotels.com"
| where Namespace  == "Processor" and Name == "UtilizationPercentage"
| summarize avg(Val) by Computer, bin(TimeGenerated, 1h)
| render timechart
```

[Примеры рендеринга в руководстве](./tutorial.md?pivots=azuremonitor#display-a-chart-or-table-render-1)


::: zone-end

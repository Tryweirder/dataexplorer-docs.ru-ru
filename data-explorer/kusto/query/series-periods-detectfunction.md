---
title: series_periods_detect () — обозреватель данных Azure
description: В этой статье описывается series_periods_detect () в Azure обозреватель данных.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 02/19/2019
ms.openlocfilehash: 2ee587bfa7d01ae0602cc870e6c0b776593d53c0
ms.sourcegitcommit: 09da3f26b4235368297b8b9b604d4282228a443c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/28/2020
ms.locfileid: "87351341"
---
# <a name="series_periods_detect"></a>series_periods_detect()

Находит наиболее значимые периоды, которые существуют во временных рядах.  

Зачастую метрика, измеряющая трафик приложения, часто характеризуется двумя значительными периодами: еженедельно и ежедневно. Функция `series_periods_detect()` обнаруживает эти две точки во временных рядах.  
Функция принимает входные данные:
* Столбец, содержащий динамический массив временных рядов. Как правило, столбец является результирующим результатом оператора [make-Series](make-seriesoperator.md) .
* Два `real` числа, определяющие минимальный и максимальный размер периода, количество ячеек для поиска. Например, для 1 ч ячейки Размер ежедневного периода будет равен 24. 
* `long`Число, определяющее общее количество периодов для функции поиска. 

Функция выводит два столбца:
* *Periods*: динамический массив, содержащий периоды, которые были найдены, в единицах размера ячейки, упорядоченных по оценкам.
* *scores*: динамический массив, содержащий значения от 0 до 1. Каждый массив измеряет значимость точки в его соответствующей точке в массиве *Periods* .
 
## <a name="syntax"></a>Синтаксис

`series_periods_detect(`*x* `,` *min_period* `,` *max_period* min_period x `,` *num_periods*`)`

## <a name="arguments"></a>Аргументы

* *x*: динамическое скалярное выражение массива, которое представляет собой массив числовых значений, обычно результирующий результат операторов [make-Series](make-seriesoperator.md) или [make_list](makelist-aggfunction.md) .
* *min_period*: `real` число, указывающее минимальный период поиска.
* *max_period*: `real` число, указывающее максимальный период для поиска.
* *num_periods*: `long` число, указывающее максимальное необходимое количество периодов. Это число будет превышать длину выходных динамических массивов.

> [!IMPORTANT]
> * Алгоритм может обнаруживать периоды, содержащие не менее 4 точек и не более половины длины ряда. 
>
> * Установите *min_period* немного ниже и *max_period* несколько периодов, которые вы планируете найти во временных рядах. Например, если у вас есть Почасовая Статистическая обработка и выполняется поиск как ежедневных, так и еженедельных периодов (24 и 168 часов соответственно), можно установить *min_period*= 0,8 \* 24, *max_period*= 1,2 \* 168 и оставить 20% полей вокруг этих периодов.
>
> * Входной ряд времени должен быть регулярным. Это происходит в постоянных ячейках, которые всегда имеют место, если она была создана с помощью [make-Series](make-seriesoperator.md). В противном случае выходные данные не имеют смысла.

## <a name="example"></a>Пример

Следующий запрос внедряет моментальный снимок месяца трафика приложения, агрегированного дважды в день. Размер ячейки составляет 12 часов.

<!-- csl: https://help.kusto.windows.net:443/Samples -->
```kusto
print y=dynamic([80,139,87,110,68,54,50,51,53,133,86,141,97,156,94,149,95,140,77,61,50,54,47,133,72,152,94,148,105,162,101,160,87,63,53,55,54,151,103,189,108,183,113,175,113,178,90,71,62,62,65,165,109,181,115,182,121,178,114,170])
| project x=range(1, array_length(y), 1), y  
| render linechart 
```

:::image type="content" source="images/series-periods/series-periods.png" alt-text="Периоды ряда":::

`series_periods_detect()`При выполнении этой серии результаты выводятся еженедельно, 14 пунктов.

<!-- csl: https://help.kusto.windows.net:443/Samples -->
```kusto
print y=dynamic([80,139,87,110,68,54,50,51,53,133,86,141,97,156,94,149,95,140,77,61,50,54,47,133,72,152,94,148,105,162,101,160,87,63,53,55,54,151,103,189,108,183,113,175,113,178,90,71,62,62,65,165,109,181,115,182,121,178,114,170])
| project x=range(1, array_length(y), 1), y  
| project series_periods_detect(y, 0.0, 50.0, 2)
```

| \_периоды ряда \_ определяют \_ точки по оси y \_  | \_периоды ряда \_ определяют \_ \_ показатели периодов по оси y \_ |
|-------------|-------------------|
| [14.0, 0.0] | [0,84, 0,0]  |


> [!NOTE] 
> Ежедневный период, который также может отображаться на диаграмме, не найден, так как выборка слишком велика (12 ч размер ячейки), поэтому ежедневный период, равный 2 ячейкам, ниже минимального периода, равного 4 пунктам, требуемым для алгоритма.

---
title: series_periods_detect() - Исследователь данных Azure Документы Майкрософт
description: В этой статье описаны series_periods_detect() в Azure Data Explorer.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 02/19/2019
ms.openlocfilehash: 0bc78f93270809774504c1eccbc9fa2bbce6c964
ms.sourcegitcommit: 436cd515ea0d83d46e3ac6328670ee78b64ccb05
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/21/2020
ms.locfileid: "81663440"
---
# <a name="series_periods_detect"></a>series_periods_detect()

Находит наиболее значительные периоды, которые существуют в временных рядах.  

Очень часто метрика, измеряющая трафик приложения, характеризуется двумя значительными периодами: еженедельным и ежедневным. Учитывая такие временные ряды, `series_periods_detect()` должны обнаружить эти 2 доминирующих периодов.  
Функция принимает в качестве ввода столбца, содержащего динамический массив временных `real` рядов (обычно в результате вывода оператора [make-series),](make-seriesoperator.md) двух чисел, определяющих минимальный и максимальный размер периода (т.е. количество ячеек, например, для 1ч бин размер омнительного периода будет 24) для поиска, и `long` число, определяющее общее количество периодов для поиска функции. Функция выводит 2 столбца:
* *периоды*: динамический массив, содержащий периоды, которые были найдены (в единицах размера ядра), заказанные их счетами
* *оценки*: динамический массив, содержащий значения между 0 и 1, каждый измеряет значение периода в соответствующем положении в массиве *периодов*
 
**Синтаксис**

`series_periods_detect(`*x* `,` *min_period* `,` *max_period* `,` *num_periods*`)`

**Аргументы**

* *x*: Динамическое выражение масштабирования массива массива числовых значений, как правило, в результате вывода [make-series](make-seriesoperator.md) или [make_list](makelist-aggfunction.md) операторов.
* *min_period*: `real` Номер, указывающий минимальный период для поиска.
* *max_period*: `real` Номер, указывающий максимальный период для поиска.
* *num_periods*: `long` Число, определяющее максимальное необходимое количество периодов. Это будет длина динамических массивов вывода.

> [!IMPORTANT]
> * Алгоритм может обнаруживать периоды, содержащие не менее 4 баллов и не более половины длины серии. 
>
> * Вы должны установить *min_period* немного ниже, и *max_period* немного выше периодов, которые вы ожидаете найти в временных рядах. Например, если у вас есть почасовой агрегированный сигнал, и вы ищете как ежедневные >, так и еженедельные\*периоды (это будет\*24 & 168 соответственно), вы можете установить *min_period*0,8 24 евро, *max_period*1,2 168, оставляя 20% прибыли в эти периоды.
>
> * Временные входной серии должны быть регулярными, т.е. агрегированными в постоянных ячейках (что всегда происходит, если она была создана с использованием [make-series).](make-seriesoperator.md) В противном случае выходные данные не имеют смысла.


**Пример**

Следующий запрос встраивает снимок месяца трафика приложения, агрегированный два раза в день (т.е. размер ячейки составляет 12 часов).

```kusto
print y=dynamic([80,139,87,110,68,54,50,51,53,133,86,141,97,156,94,149,95,140,77,61,50,54,47,133,72,152,94,148,105,162,101,160,87,63,53,55,54,151,103,189,108,183,113,175,113,178,90,71,62,62,65,165,109,181,115,182,121,178,114,170])
| project x=range(1, array_length(y), 1), y  
| render linechart 
```

:::image type="content" source="images/samples/series-periods.png" alt-text="Периоды серии":::

Запуск `series_periods_detect()` по этой серии приводит к еженедельному периоду (14 очков):

```kusto
print y=dynamic([80,139,87,110,68,54,50,51,53,133,86,141,97,156,94,149,95,140,77,61,50,54,47,133,72,152,94,148,105,162,101,160,87,63,53,55,54,151,103,189,108,183,113,175,113,178,90,71,62,62,65,165,109,181,115,182,121,178,114,170])
| project x=range(1, array_length(y), 1), y  
| project series_periods_detect(y, 0.0, 50.0, 2)
```

| \_периоды\_\_серии обнаруживают y\_периоды  | \_периоды\_\_серии обнаруживают оценки y\_периодов\_ |
|-------------|-------------------|
| [14.0, 0.0] | [0.84, 0.0]  |


Обратите внимание, что дневной период, который также можно увидеть на графике, не был найден, так как выборка слишком грубая (размер 12h bin), поэтому ежедневный период в 2 ядра ниже минимального размера периода в 4 пункта, требуемого алгоритмом.
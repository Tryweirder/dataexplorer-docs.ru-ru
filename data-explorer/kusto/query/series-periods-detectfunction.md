---
title: series_periods_detect () — обозреватель данных Azure
description: В этой статье описывается series_periods_detect () в Azure обозреватель данных.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 02/19/2019
ms.openlocfilehash: a3f2a325b63306f7fec6b11eb3e684d3918bc7d5
ms.sourcegitcommit: bb8c61dea193fbbf9ffe37dd200fa36e428aff8c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/13/2020
ms.locfileid: "83372528"
---
# <a name="series_periods_detect"></a>series_periods_detect()

Находит наиболее значимые периоды, которые существуют во временных рядах.  

Очень часто измерение метрик трафика приложения характеризуется двумя значительными периодами: еженедельно и ежедневно. Учитывая такие временные ряды, `series_periods_detect()` они должны определить эти две точки.  
Функция принимает в качестве входных данных столбец, содержащий динамический массив временных рядов (обычно результирующий результат оператора [make-Series](make-seriesoperator.md) ), два `real` числа, определяющие минимальный и максимальный размер периода (например, число ячеек, например для 1 ч ячейки, Размер ежедневного периода будет 24) для поиска, и `long` число, определяющее общее число периодов для функции поиска. Функция выводит 2 столбца:
* *Periods*: динамический массив, содержащий периоды, которые были найдены (в единицах размера ячейки), упорядоченные по оценкам.
* *scores*: динамический массив, содержащий значения от 0 до 1, каждый из которых измеряет значимость точки в его соответствующей точке в массиве *Periods* .
 
**Синтаксис**

`series_periods_detect(`*x* `,` *min_period* `,` *max_period* min_period x `,` *num_periods*`)`

**Аргументы**

* *x*: динамическое скалярное выражение массива, которое представляет собой массив числовых значений, обычно результирующий результат операторов [make-Series](make-seriesoperator.md) или [make_list](makelist-aggfunction.md) .
* *min_period*: `real` число, указывающее минимальный период поиска.
* *max_period*: `real` число, указывающее максимальный период для поиска.
* *num_periods*: `long` число, указывающее максимальное необходимое количество периодов. Это будет длина выходных динамических массивов.

> [!IMPORTANT]
> * Алгоритм может обнаруживать периоды, содержащие не менее 4 точек и не более половины длины ряда. 
>
> * Необходимо задать *min_period* немного ниже и *max_period* несколько периодов, которые вы планируете найти во временных рядах. Например, если у вас есть Почасовая Статистическая обработка, и вы ищите как ежедневные >, так и еженедельные периоды (то есть 24 & 168 соответственно), можно задать *min_period*= 0,8 \* 24, *max_period*= 1,2 \* 168, открывая 20% полей вокруг этих периодов.
>
> * Входной ряд должен быть регулярным, т. е. агрегированным в постоянных ячейках (который всегда имеет место, если он был создан с помощью [make-Series](make-seriesoperator.md)). В противном случае выходные данные не имеют смысла.


**Пример**

Следующий запрос внедряет моментальный снимок месяца трафика приложения, агрегированного дважды в день (т. е. размер ячейки составляет 12 часов).

<!-- csl: https://help.kusto.windows.net:443/Samples -->
```kusto
print y=dynamic([80,139,87,110,68,54,50,51,53,133,86,141,97,156,94,149,95,140,77,61,50,54,47,133,72,152,94,148,105,162,101,160,87,63,53,55,54,151,103,189,108,183,113,175,113,178,90,71,62,62,65,165,109,181,115,182,121,178,114,170])
| project x=range(1, array_length(y), 1), y  
| render linechart 
```

:::image type="content" source="images/series-periods/series-periods.png" alt-text="Периоды ряда":::

Выполнение `series_periods_detect()` в этой серии приводит к еженедельному периоду (14 пунктов):

<!-- csl: https://help.kusto.windows.net:443/Samples -->
```kusto
print y=dynamic([80,139,87,110,68,54,50,51,53,133,86,141,97,156,94,149,95,140,77,61,50,54,47,133,72,152,94,148,105,162,101,160,87,63,53,55,54,151,103,189,108,183,113,175,113,178,90,71,62,62,65,165,109,181,115,182,121,178,114,170])
| project x=range(1, array_length(y), 1), y  
| project series_periods_detect(y, 0.0, 50.0, 2)
```

| \_периоды ряда \_ определяют \_ точки по оси y \_  | \_периоды ряда \_ определяют \_ \_ показатели периодов по оси y \_ |
|-------------|-------------------|
| [14.0, 0.0] | [0,84, 0,0]  |


Обратите внимание, что ежедневный период, который также может отображаться на диаграмме, не был найден, так как выборка слишком велика (размер ячейки 12 ч), поэтому ежедневный период, равный 2 ячейкам, ниже минимальный размер периода, равный 4 точкам, необходимым для алгоритма.

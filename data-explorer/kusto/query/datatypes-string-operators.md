---
title: Строковые операторы — Azure обозреватель данных | Документация Майкрософт
description: В этой статье описываются строковые операторы в Azure обозреватель данных.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 02/13/2020
ms.openlocfilehash: e16d90c8307392536b5971758ce7df15a9ea1b46
ms.sourcegitcommit: ef009294b386cba909aa56d7bd2275a3e971322f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/08/2020
ms.locfileid: "82977139"
---
# <a name="string-operators"></a>Строковые операторы

В следующей таблице перечислены операторы в строках.

Оператор        |Описание                                                       |С учетом регистра|Пример (при `true`)
----------------|------------------------------------------------------------------|--------------|-----------------------
`==`            |Равно                                                            |Да           |`"aBc" == "aBc"`
`!=`            |Не равно                                                        |Да           |`"abc" != "ABC"`
`=~`            |Равно                                                            |нет            |`"abc" =~ "ABC"`
`!~`            |Не равно                                                        |нет            |`"aBc" !~ "xyz"`
`has`           |Правая часть представляет собой все слово в левой части     |нет            |`"North America" has "america"`
`!has`          |Правая часть не является всем словом в левой части                                     |нет            |`"North America" !has "amer"` 
`has_cs`        |Правая часть представляет собой все слово в левой части     |Да           |`"North America" has_cs "America"`
`!has_cs`       |Правая часть не является всем словом в левой части                                     |Да           |`"North America" !has_cs "amer"` 
`hasprefix`     |RHS — префикс термина в LHS                                       |нет            |`"North America" hasprefix "ame"`
`!hasprefix`    |RHS не является префиксом термина в LHS                                   |нет            |`"North America" !hasprefix "mer"` 
`hasprefix_cs`  |RHS — префикс термина в LHS                                       |Да           |`"North America" hasprefix_cs "Ame"`
`!hasprefix_cs` |RHS не является префиксом термина в LHS                                   |Да           |`"North America" !hasprefix_cs "CA"` 
`hassuffix`     |RHS — это суффикс термина в LHS                                       |нет            |`"North America" hassuffix "ica"`
`!hassuffix`    |RHS не является суффиксом term в LHS                                   |нет            |`"North America" !hassuffix "americ"`
`hassuffix_cs`  |RHS — это суффикс термина в LHS                                       |Да           |`"North America" hassuffix_cs "ica"`
`!hassuffix_cs` |RHS не является суффиксом term в LHS                                   |Да           |`"North America" !hassuffix_cs "icA"`
`contains`      |Правая часть является вхождением в левую часть                                |нет            |`"FabriKam" contains "BRik"`
`!contains`     |Правая часть не входит в левую часть                                         |нет            |`"Fabrikam" !contains "xyz"`
`contains_cs`   |Правая часть является вхождением в левую часть                                |Да           |`"FabriKam" contains_cs "Kam"`
`!contains_cs`  |Правая часть не входит в левую часть                                         |Да           |`"Fabrikam" !contains_cs "Kam"`
`startswith`    |RHS является начальной последовательностью LHS                              |нет            |`"Fabrikam" startswith "fab"`
`!startswith`   |RHS не является начальной частью последовательности LHS                          |нет            |`"Fabrikam" !startswith "kam"`
`startswith_cs` |RHS является начальной последовательностью LHS                              |Да           |`"Fabrikam" startswith_cs "Fab"`
`!startswith_cs`|RHS не является начальной частью последовательности LHS                          |Да           |`"Fabrikam" !startswith_cs "fab"`
`endswith`      |RHS является закрывающей последовательностью LHS                               |нет            |`"Fabrikam" endswith "Kam"`
`!endswith`     |RHS не является закрывающей частью LHS                           |нет            |`"Fabrikam" !endswith "brik"`
`endswith_cs`   |RHS является закрывающей последовательностью LHS                               |Да           |`"Fabrikam" endswith "Kam"`
`!endswith_cs`  |RHS не является закрывающей частью LHS                           |Да           |`"Fabrikam" !endswith "brik"`
`matches regex` |Левая часть содержит соответствие для правой части                                      |Да           |`"Fabrikam" matches regex "b.*k"`
`in`            |Соответствует одному из элементов                                     |Да           |`"abc" in ("123", "345", "abc")`
`!in`           |Не соответствует одному из элементов                                 |Да           |`"bca" !in ("123", "345", "abc")`
`in~`           |Соответствует одному из элементов                                     |нет            |`"abc" in~ ("123", "345", "ABC")`
`!in~`          |Не соответствует одному из элементов                                 |нет            |`"bca" !in~ ("123", "345", "ABC")`
`has_any`       |То же `has` , что и для любого из элементов                    |нет            |`"North America" has_any("south", "north")`

## <a name="performance-tips"></a>Советы по улучшению производительности

Для повышения производительности при наличии двух операторов, выполняющих одну и ту же задачу, используйте регистр с учетом регистра.
Пример:

* `=~`вместо используйте`==`
* `in~`вместо используйте`in`
* `contains`вместо используйте`contains_cs`

Для ускорения результатов при тестировании на наличие символа или буквенно-цифрового слова, которое связано с символами, отличными от букв и цифр (или в начале или в конце поля `has` ) `in`, используйте или. `has`выполняется быстрее, `contains`чем `startswith`, или `endswith`.

Например, первый из этих запросов выполняется быстрее:

```kusto
EventLog | where continent has "North" | count;
EventLog | where continent contains "nor" | count
```

## <a name="understanding-string-terms"></a>Основные сведения об строковых терминах

По умолчанию Kusto индексирует все столбцы, включая столбцы типа `string`.
На самом деле, для таких столбцов создается несколько индексов в зависимости от фактических данных. Для пользователя эти индексы не предоставляются напрямую (за исключением положительного влияния на производительность запросов) за счет `string` исключения операторов, которые `has` входят в их имена: `has`, `!has`, `hasprefix`, `!hasprefix`и т. д. Эти операторы являются специальными в том смысле, что их семантика зависит от способа кодирования столбца. Вместо того чтобы выполнять "простые" совпадения подстрок, эти операторы соответствуют **условиям**.

Чтобы понять совпадение на основе термина, сначала необходимо понять, что такое термин. По умолчанию Kusto разбивает `string` каждое значение на максимальные последовательности буквенно-цифровых символов ASCII, и каждое из них вносится в термин. Например `string`, в следующем примере термины являются `Kusto`, `WilliamGates3rd`и следующие подстроки: `ad67d136`, `c1db`, `4f9f`, `88ef`,: `d94f3b6b0b5a`

```
Kusto:  ad67d136-c1db-4f9f-88ef-d94f3b6b0b5a;;WilliamGates3rd
```

По умолчанию Kusto создает индекс термина, состоящий из всех терминов, состоящих из **четырех или более символов**, и этот `has`индекс `!has`используется в, и т. д. при поиске терминов, которые также имеют четыре символа или больше. (Если запрос ищет термин, размер которого меньше четырех символов, или `contains` оператор, например, Kusto вернется к просмотру значений в столбце, если он не может определить соответствие, что намного медленнее, чем искать термин в индексе термина.)


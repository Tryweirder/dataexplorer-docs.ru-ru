---
title: extract_all() - Исследователь данных Azure (англ.) Документы Майкрософт
description: Эта статья описывает extract_all () в Azure Data Explorer.
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 02/13/2020
ms.openlocfilehash: f7623a064e272f8b96ca25cc6af47318e26dfb93
ms.sourcegitcommit: 47a002b7032a05ef67c4e5e12de7720062645e9e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/15/2020
ms.locfileid: "81515425"
---
# <a name="extract_all"></a>extract_all()

Получите все совпадения для [регулярного выражения](./re2.md) из текстовой строки.

В обязательном порядке можно получить подмножество соответствующих групп.

```kusto
print extract_all(@"(\d+)", "a set of numbers: 123, 567 and 789") == dynamic(["123", "567", "789"])
```

**Синтаксис**

`extract_all(`*regex* `,` -*захватгруппы*`,`- *текст*`)`

**Аргументы**

* *regex*: [Регулярное выражение](./re2.md). Регулярное выражение должно иметь по крайней мере одну группу захвата и менее или равно, чем 16 групп захвата.
* *captureGroups*: (необязательно). Динамический массив константа, указывающий группу захвата для извлечения. Допустимые значения от 1 до числа групп захвата в обычном выражении. Разрешены также именованные группы захвата (см. раздел «Примеры»).
* *текст*: `string` A для поиска.

**Возвращает**

Если *regex* находит совпадение в *тексте:* возвращает динамический массив, включающий все совпадения с указанными группами захвата *captureGroups* (или все группы захвата в *regex).*
Если число *групп захвата* 1: возвращенный массив имеет одно измерение совпадающих значений.
Если количество *групп захвата* превышает 1: возвращенный массив представляет собой двухмерную коллекцию многофункциональных совпадений на выбор групп *захвата* (или все группы захвата, присутствующие в *regex,* если *captureGroups* опущены) 

Если нет совпадений: `null`. 

**Примеры**

### <a name="extracting-single-capture-group"></a>Извлечение одной группы захвата
Приведенный ниже пример возвращает шестибайное представление (две шестизначные цифры) GUID.

```kusto
print Id="82b8be2d-dfa7-4bd1-8f63-24ad26d31449"
| extend guid_bytes = extract_all(@"([\da-f]{2})", Id) 
```

|Идентификатор|guid_bytes|
|---|---|
|82b8be2d-dfa7-4bd1-8f63-24ad26d31449|"82", "b8", "be",2d","df","a7", "4b","d1","8f", "63","24", "ad","26","d3","14","49", "49""|

### <a name="extracting-several-capture-groups"></a>Извлечение нескольких групп захвата 
В следующем примере используется регулярное выражение с 3 группами захвата, чтобы разделить каждую часть GUID на первую букву, последнюю букву и все, что в середине.

```kusto
print Id="82b8be2d-dfa7-4bd1-8f63-24ad26d31449"
| extend guid_bytes = extract_all(@"(\w)(\w+)(\w)", Id) 
```

|Идентификатор|guid_bytes|
|---|---|
|82b8be2d-dfa7-4bd1-8f63-24ad26d31449|"8", "2b8be2","d", "d", "fa", "7", "4","bd", "1","8", "8", "f6","3","3", "2","4ad26d3144","9""|

### <a name="extracting-subset-of-capture-groups"></a>Извлечение подмножества групп захвата

В следующем примере показано, как выбрать подмножество групп захвата: в этом случае регулярное выражение совпадает с первой буквой, последней буквой и всем остальным - в то время как параметр *захватагрупп* используется для выбора только первой и последней части. 

```kusto
print Id="82b8be2d-dfa7-4bd1-8f63-24ad26d31449"
| extend guid_bytes = extract_all(@"(\w)(\w+)(\w)", dynamic([1,3]), Id) 
```

|Идентификатор|guid_bytes|
|---|---|
|82b8be2d-dfa7-4bd1-8f63-24ad26d31449|«8»,,«д», «д»,7»,7», «4»,1»,1», «8»,3», «2»,9»»|


### <a name="using-named-capture-groups"></a>Использование названных групп захвата

Вы можете использовать названные группы захвата RE2 в extract_all(). В приведенном ниже примере — *группы захвата* используют как индексы групп захвата, так и именованную ссылку группы захвата для получения соответствующих значений.

```kusto
print Id="82b8be2d-dfa7-4bd1-8f63-24ad26d31449"
| extend guid_bytes = extract_all(@"(?P<first>\w)(?P<middle>\w+)(?P<last>\w)", dynamic(['first',2,'last']), Id) 
```

|Идентификатор|guid_bytes|
|---|---|
|82b8be2d-dfa7-4bd1-8f63-24ad26d31449|"8", "2b8be2","d", "d", "fa", "7", "4","bd", "1","8", "8", "f6","3","3", "2","4ad26d3144","9""|